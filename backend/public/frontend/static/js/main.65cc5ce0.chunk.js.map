{"version":3,"sources":["constants/productConstants.js","components/Rating.js","components/Cart.js","components/MessageBox.js","components/LoadingBox.js","screens/ProductScreen.js","actions/productActions.js","components/Product.js","screens/HomeScreen.js","constants/cartConstants.js","actions/cartActions.js","screens/CartScreen.js","constants/userConstants.js","screens/SigninScreen.js","actions/userActions.js","screens/RegisterScreen.js","components/CheckoutSteps.js","screens/ShippingAddressScreen.js","screens/PaymentMethodScreen.js","constants/orderConstants.js","screens/PlaceOrderScreen.js","actions/orderActions.js","constants/paymentConstants.js","components/FormPayment.js","actions/paymentActions.js","screens/OrderScreen.js","screens/OrderHistoryScreen.js","components/FormUser.js","screens/ProfileScreen.js","components/PrivateRoute.js","components/Header.js","components/Footer.js","screens/AdminOrderScreen.js","components/PrivateRouteAdmin.js","App.js","reportWebVitals.js","reducers/productReducers.js","store.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducer.js","reducers/paymentReducers.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","Rating","props","rating","numReviews","className","Cart","product","url","useState","qty","setQty","price","countInStock","value","onChange","e","target","Array","keys","map","x","onClick","history","push","_id","MessageBox","variant","children","LoadingBox","ProductScreen","dispatch","useDispatch","productId","match","params","id","productDetail","useSelector","state","loading","error","useEffect","a","type","payload","Axios","get","data","response","message","detailsProduct","to","src","image","alt","name","description","Product","brand","HomeScreen","productList","products","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_EMPTY","addToCart","getState","localStorage","setItem","JSON","stringify","cart","cartItems","CartScreen","location","search","Number","split","removeFromCartHandler","removeFromCart","length","reduce","c","disabled","USER_SIGIN_REQUEST","USER_SIGIN_SUCCESS","USER_SIGIN_FAIL","USER_SIGIN_SIGNOUT","USER_REGISTER_REQUEST","USER_REGISTER_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","SigninScreen","email","setEmail","password","setPassword","redirect","userSignin","userInfo","onSubmit","preventDefault","post","signin","htmlFor","placeholder","required","RegisterScreen","setName","confirmPassword","setConfirmPassword","userRegister","alert","register","CheckoutSteps","step1","step2","step3","step4","ShippingAddressScreen","shippingAddress","fullName","setFullName","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentMethodScreen","paymetMethod","setPaymetMethod","checked","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_HISTORY_REQUEST","ORDER_HISTORY_SUCCESS","ORDER_HISTORY_FAIL","ORDER_DELETE_REQUEST","ORDER_DELETE_FAIL","ORDER_LIST_ADMIN_REQUEST","ORDER_LIST_ADMIN_SUCCESS","ORDER_LIST_ADMIN_FAIL","PlaceOrderScreen","createOrder","success","order","paymentMethod","toPrice","num","toFixed","itemsPrice","shippingPrice","taxPrice","totalPrice","axios","headers","Authorization","token","removeItem","create","orderItems","BANKS_PAYU_LIST_REQUEST","BANKS_PAYU_LIST_SUCCESS","BANKS_PAYU_LIST_FAIL","PSE_PAYU_SUBMIT_TRANSACTION_REQUEST","PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS","PSE_PAYU_SUBMIT_TRANSACTION_FAIL","FormPayment","banksList","paymentState","registerPayment","pseTransaction","loadingPse","bank","setBank","typeClient","setTypeClient","identification","setIdentification","typeIdentification","setTypeIdentification","phone","setPhone","dataTransaction","orderDetails","banks","item","OrderScreen","orderId","sdkPayu","setSdkPayu","sdkMercado","setSdkMercado","successDelete","orderDelete","successPay","payOrder","addPayPalScript","script","document","createElement","async","onload","body","appendChild","loadButton","window","MercadoPago","locale","checkout","preference","render","container","label","detailsOrder","addMercadoPagoScript","paypal","delete","deleteCount","deleteOrder","undefined","isPaid","isDelivered","deliveredAt","paidAt","amount","onSuccess","paymentResult","put","onError","OrderHistoryScreen","historyOrder","orderHistory","orders","isAdmin","createdAt","FormUser","user","form","swal","text","icon","userUpdate","updateUserProfile","title","button","ProfileScreen","PrivateRoute","Component","component","rest","Header","Footer","AdminOrderScreen","list","listOrders","PrivateRouteAdmin","App","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","require","initialState","getItem","parse","reducer","combineReducers","action","existItem","find","filter","updateUser","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.65cc5ce0.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';","import React from 'react'\r\n\r\nexport default function Rating(props) {\r\n    const {rating, numReviews} = props;\r\n    return (\r\n        <div className=\"product-rating\">\r\n        <span>\r\n            <i className={ rating >= 1 ? \"fas fa-star\": rating >= 0.5 ? \"fas fa-star-half-alt\": \"far fa-star\"}></i>\r\n        </span>\r\n        <span>\r\n            <i className={ rating >= 2 ? \"fas fa-star\": rating >= 1.5 ? \"fas fa-star-half-alt\": \"far fa-star\"}></i>\r\n        </span>\r\n        <span>\r\n            <i className={ rating >= 3 ? \"fas fa-star\": rating >= 2.5 ? \"fas fa-star-half-alt\": \"far fa-star\"}></i>\r\n        </span>\r\n        <span>\r\n            <i className={ rating >= 4 ? \"fas fa-star\": rating >= 3.5 ? \"fas fa-star-half-alt\": \"far fa-star\"}></i>\r\n        </span>\r\n        <span>\r\n            <i className={ rating >= 5 ? \"fas fa-star\": rating >= 4.5 ? \"fas fa-star-half-alt\": \"far fa-star\"}></i>\r\n        </span>\r\n        <span>\r\n            {numReviews + 'reviews'}\r\n        </span>\r\n    </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nexport default function Cart(props) {\r\n    const {product, url} = props;\r\n    const [qty, setQty] = useState(1);\r\n\r\n    const addToCartHandler = () => {\r\n        url.history.push(`/cart/${product._id}?qty=${qty}`)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ul>\r\n                <li>\r\n                    <div className=\"row\">\r\n                        <div>Price: </div>\r\n                        <div className=\"price\">${product.price}</div>\r\n                    </div>\r\n                </li>\r\n                <li>\r\n                    <div className=\"row\">\r\n                        <div>Status: </div>\r\n                        <div className=\"status\">\r\n                            {\r\n                                product.countInStock > 0 ?\r\n                                (<span className=\"success\">In Stock</span>)\r\n                                :\r\n                                (<span className=\"error\">Unavailable</span>)\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n                {\r\n                    product.countInStock > 0 && (\r\n                        <>\r\n                        <li>\r\n                            <div className=\"row\">\r\n                                <div>Qty</div>\r\n                                <div>\r\n                                    <select value={qty} onChange={e => setQty(e.target.value)}>\r\n                                        {\r\n                                            [...Array(product.countInStock).keys()].map( x => (\r\n                                                <option key={x + 1} value={x + 1}>\r\n                                                    {x + 1}\r\n                                                </option>\r\n                                            ))\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <button onClick={addToCartHandler} className=\"primary block\">Add</button>\r\n                        </li>\r\n                        </>\r\n                    )\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function MessageBox(props) {\r\n\r\n    // const \r\n    return (\r\n        <div className={`alert alert-${props.variant || 'info'}`}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function LoadingBox() {\r\n    return (\r\n        <div className=\"spinner-content\">\r\n            <div className=\"spinner\"></div>\r\n        </div>\r\n        // <div className=\"loading\">\r\n        //     <i className=\"fa fa-spinner fa-spin\"></i> Loading...\r\n        // </div>\r\n    )\r\n}\r\n","// import data from '../data';\r\nimport React, { useEffect } from 'react'\r\nimport Rating from '../components/Rating';\r\nimport { Link } from 'react-router-dom';\r\nimport Cart from '../components/Cart';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { detailsProduct } from '../actions/productActions';\r\nimport MessageBox from '../components/MessageBox';\r\nimport LoadingBox from '../components/LoadingBox';\r\n\r\nexport default function ProductScreen(props) {\r\n    const dispatch = useDispatch();\r\n    const productId = props.match.params.id;\r\n    \r\n    const productDetail = useSelector(state => state.productDetail);\r\n    const { loading, error, product } = productDetail;\r\n\r\n    useEffect(() => {\r\n        dispatch(detailsProduct(productId));\r\n    }, [dispatch, productId]);\r\n\r\n    return (\r\n        <div>\r\n            {loading ? <LoadingBox></LoadingBox>\r\n            : \r\n            error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n            :\r\n            (\r\n            <div>\r\n            <Link to=\"/\">Back to result</Link>\r\n            <div className=\"row top\">\r\n                <div className=\"col-2\">\r\n                    <img className=\"large\" src={product.image} alt={product.name}/>\r\n                </div>\r\n                <div className=\"col-1\">\r\n                    <ul>\r\n                        <li>\r\n                            <h1>{product.name}</h1>\r\n                        </li>\r\n                        <li>\r\n                            <Rating rating={product.rating} numReviews={product.numReviews}></Rating>\r\n                        </li>\r\n                        <li>\r\n                            Price : ${product.price}\r\n                        </li>\r\n                        <li>\r\n                            Description : {product.description}\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-1 card card-body\">\r\n                    <Cart url={props} product={product}></Cart>\r\n                </div>\r\n            </div>\r\n            </div>  \r\n            )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import Axios from \"axios\";\r\nimport {\r\n    PRODUCT_DETAILS_FAIL,\r\n    PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_LIST_FAIL,\r\n    PRODUCT_LIST_REQUEST,\r\n    PRODUCT_LIST_SUCCESS } from \"../constants/productConstants\";\r\n\r\n export const listProducts = () => async (dispatch) => {\r\n    dispatch({\r\n        type: PRODUCT_LIST_REQUEST,\r\n    });\r\n    try {\r\n        const {data} = await Axios.get('/api/products');\r\n        dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data })\r\n    } catch (error) {\r\n        dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message})\r\n    }\r\n }\r\n\r\n export const detailsProduct = (productId) => async (dispatch) => {\r\n\r\n     dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\r\n\r\n     try {\r\n         const { data } = await Axios.get(`/api/products/${productId}`);\r\n         dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data })\r\n     } catch (error) {\r\n         dispatch({ \r\n             type: PRODUCT_DETAILS_FAIL,\r\n             payload:\r\n                error.response && error.response.data.message\r\n                ? error.response.data.message\r\n                : error.message,\r\n        });\r\n     }\r\n }","import React from 'react'\r\nimport Rating from './Rating';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Product(props) {\r\n    const {product} = props;\r\n\r\n    return (\r\n        <div>\r\n            <li key={product._id}>\r\n                <div  className=\"product\">\r\n                    <img className=\"product-image\" src={product.image} alt={product.name} />\r\n                    <div className=\"product-name\">\r\n                        <Link to={`/product/${product._id}`}>{product.name}</Link>\r\n                    </div>\r\n                    <div className=\"product-brand\">{product.brand}</div>\r\n                    <Rating rating={product.rating} numReviews={product.numReviews}></Rating>\r\n                    <div className=\"product-price\">${product.price}</div> \r\n                </div>\r\n            </li>    \r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nimport Product from '../components/Product';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listProducts } from '../actions/productActions';\r\n\r\nexport default function HomeScreen() {\r\n    const dispatch = useDispatch();\r\n    const productList = useSelector(state => state.productList);\r\n    const { loading, error, products } = productList;\r\n\r\n    useEffect(() => { \r\n      dispatch(listProducts());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <div>\r\n            {loading ? <LoadingBox></LoadingBox>\r\n            :\r\n            error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n            :\r\n            (<ul className=\"products\">\r\n              {\r\n                products.map((product) =>(\r\n                  <Product key={product._id} product={product}></Product>\r\n                ))\r\n              }  \r\n            </ul>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CARD_REMOVE_ITEM';\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\r\nexport const CART_EMPTY = 'CART_EMPTY';","import Axios from \"axios\";\r\nimport {\r\n    CART_ADD_ITEM,\r\n    CART_REMOVE_ITEM,\r\n    CART_SAVE_SHIPPING_ADDRESS,\r\n    CART_SAVE_PAYMENT_METHOD\r\n} from \"../constants/cartConstants\";\r\n\r\nexport const addToCart = (productId, qty) => async (dispatch, getState) => {\r\n    const { data } = await Axios.get(`/api/products/${productId}`);\r\n    dispatch({\r\n        type: CART_ADD_ITEM,\r\n        payload: {\r\n            name: data.name,\r\n            image: data.image,\r\n            price: data.price,\r\n            countInStock: data.countInStock,\r\n            product: data._id,\r\n            qty,\r\n        }\r\n    });\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n}\r\n\r\nexport const removeFromCart = (productId) => (dispatch, getState) => {\r\n    dispatch({ type: CART_REMOVE_ITEM, payload: productId });\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n}\r\n\r\nexport const saveShippingAddress = (data) => (dispatch) =>{\r\n    dispatch({type: CART_SAVE_SHIPPING_ADDRESS, payload: data});\r\n    localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n}\r\n\r\nexport const savePaymentMethod = (data) => (dispatch) => {\r\n    dispatch({ type: CART_SAVE_PAYMENT_METHOD, payload: data});\r\n}","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { addToCart, removeFromCart } from '../actions/cartActions';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function CartScreen(props) {\r\n    const dispatch = useDispatch();\r\n    const productId = props.match.params.id;\r\n\r\n    const qty =  props.location.search\r\n            ? Number(props.location.search.split('=')[1])\r\n            : 1;\r\n\r\n    useEffect(()=>{\r\n        if (productId) {\r\n            dispatch(addToCart(productId, qty));\r\n        }\r\n    }, [dispatch, productId, qty]);\r\n\r\n\r\n    const cart = useSelector(state => state.cart);\r\n    const { cartItems } = cart;\r\n\r\n    const removeFromCartHandler = (id) =>{\r\n        dispatch(removeFromCart(id));\r\n    }\r\n    const checkoutHandler = () => {\r\n        props.history.push('/signin?redirect=shipping');\r\n    }\r\n    return (\r\n        <div>\r\n            {\r\n                cartItems.length > 0\r\n                ?\r\n                <div className=\"shopping\">\r\n                    <span className=\"title-cart\">Shopping cart</span>\r\n                    <div className=\"shopping-content\">\r\n                        <div className=\"shopping-cart\">\r\n                        {cartItems.map((x) => (\r\n                            <div className=\"products-cart\">\r\n                                <img src={x.image} className=\"image-cart\" alt={x.name} />\r\n                                <div className=\"name-cart\"><Link to={`/product/${x.product}`}> {x.name} </Link></div>\r\n                                <div className=\"qty-cart\">\r\n                                    <select value={x.qty} onChange={e => dispatch(addToCart(x.product, Number(e.target.value)))}>\r\n                                            {\r\n                                                [...Array(x.countInStock).keys()].map( x => (\r\n                                                    <option key={x + 1} value={x + 1}>\r\n                                                        {x + 1}\r\n                                                    </option>\r\n                                                ))\r\n                                            }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"price-cart\">${x.price}</div>\r\n                                <div className=\"delete-cart\"><button onClick={() => removeFromCartHandler(x.product)}>Delete</button></div>\r\n                            </div>\r\n                        ))}\r\n                        </div>\r\n                        <div className=\"col-1\">\r\n                            <div className=\"card card-body\">\r\n                                <ul>\r\n                                    <li>\r\n                                        <h2>\r\n                                            Subtotal ({cartItems.reduce((a, c)=> a + c.qty, 0)} items): $\r\n                                            {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\r\n                                        </h2>\r\n                                    </li>\r\n                                    <li>\r\n                                        <button\r\n                                        type=\"button\"\r\n                                        onClick={checkoutHandler}\r\n                                        className=\"primary block\"\r\n                                        disabled={cartItems.length === 0}>\r\n                                            Proceed to Checkout\r\n                                        </button>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                :\r\n                (<MessageBox>Cart is empty <Link to={\"/\"}>Go to shopping</Link></MessageBox>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","export const USER_SIGIN_REQUEST = \"USER_SIGIN_REQUEST\";\r\nexport const USER_SIGIN_SUCCESS = \"USER_SIGIN_SUCCESS\";\r\nexport const USER_SIGIN_FAIL = \"USER_SIGIN_FAIL\";\r\nexport const USER_SIGIN_SIGNOUT = \"USER_SIGIN_SIGNOUT\";\r\n\r\nexport const USER_REGISTER_REQUEST = \"USER_REGISTER_REQUEST\";\r\nexport const USER_REGISTER_SUCCESS = \"USER_REGISTER_SUCCESS\";\r\nexport const USER_REGISTER_FAIL = \"USER_REGISTER_FAIL\";\r\n\r\nexport const USER_UPDATE_REQUEST = \"USER_UPDATE_REQUEST\";\r\nexport const USER_UPDATE_SUCCESS = \"USER_UPDATE_SUCCESS\";\r\nexport const USER_UPDATE_FAIL = \"USER_UPDATE_FAIL\";\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { signin } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function SigninScreen(props) {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\r\n\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo, loading, error } = userSignin;\r\n\r\n    const dispatch = useDispatch();\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault();\r\n        dispatch(signin(email, password));\r\n\r\n    }\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            props.history.push(redirect)\r\n        }\r\n    }, [props.history, redirect, userInfo]);\r\n    return (\r\n        <div>\r\n\r\n            {loading && <LoadingBox></LoadingBox>}\r\n            {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n            \r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>Sign In</h1>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"email\">Email address</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        placeholder=\"Enter email\"\r\n                        required\r\n                        onChange={e => setEmail(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        placeholder=\"Enter password\"\r\n                        required\r\n                        onChange={e => setPassword(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label />\r\n                    <button className=\"primary\" type=\"submit\">Sign In</button>\r\n                </div>\r\n                <div>\r\n                    <label />\r\n                    <div>\r\n                        New customer? {' '}\r\n                        <Link to={`/register`}>Create your account</Link>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import Axios from 'axios';\r\nimport {\r\n    USER_REGISTER_FAIL,\r\n    USER_REGISTER_REQUEST,\r\n    USER_REGISTER_SUCCESS,\r\n    USER_SIGIN_FAIL,\r\n    USER_SIGIN_REQUEST,\r\n    USER_SIGIN_SIGNOUT,\r\n    USER_SIGIN_SUCCESS,\r\n    USER_UPDATE_REQUEST,\r\n    USER_UPDATE_SUCCESS,\r\n    USER_UPDATE_FAIL,\r\n} from \"../constants/userConstants\"\r\n\r\nexport const signin = (email, password) => async (dispatch) =>{\r\n    dispatch({type:USER_SIGIN_REQUEST, payload:{email, password}});\r\n\r\n    try {\r\n      const {data} = await Axios.post('api/users/signin', { email, password });\r\n      dispatch({ type: USER_SIGIN_SUCCESS, payload: data});\r\n      localStorage.setItem('userInfo', JSON.stringify(data));\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type:USER_SIGIN_FAIL,\r\n            payload: error.response && error.response.data.message\r\n            ? error.response.data.message:\r\n            error.response\r\n        })\r\n    }\r\n}\r\n\r\nexport const register = (name, email, password) => async (dispatch) =>{\r\n    dispatch({type:USER_REGISTER_REQUEST, payload:{name, email, password}});\r\n\r\n    try {\r\n      const {data} = await Axios.post('api/users/register', { name, email, password });\r\n      dispatch({ type: USER_REGISTER_SUCCESS, payload: data});\r\n      dispatch({ type: USER_SIGIN_SUCCESS, payload: data});\r\n      localStorage.setItem('userInfo', JSON.stringify(data));\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_REGISTER_FAIL,\r\n            payload: error.response && error.response.data.message\r\n            ? error.response.data.message:\r\n            error.response\r\n        });\r\n    }\r\n}\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n    dispatch({ type: USER_UPDATE_REQUEST, payload: user});\r\n\r\n    try {\r\n        const { data } = await Axios.put(`api/users/update/${user._id}`, user, {\r\n            headers:{\r\n                Authorization: `Bearer ${user.token}`\r\n            }\r\n        });\r\n\r\n        const userUpdate = {...user,\r\n            name: data.user.name,\r\n            email: data.user.email\r\n        };\r\n\r\n        dispatch({type: USER_UPDATE_SUCCESS, payload: userUpdate});\r\n        dispatch({ type: USER_SIGIN_SUCCESS, payload: userUpdate});\r\n        localStorage.setItem('userInfo', JSON.stringify(userUpdate));\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_UPDATE_FAIL,\r\n            payload: error.response && error.response.data.message\r\n            ? error.response.data.message:\r\n            error.response\r\n        });\r\n    }\r\n}\r\n\r\nexport const signout = () => async (dispatch) => {\r\n    localStorage.removeItem('userInfo');\r\n    localStorage.removeItem('cartItems');\r\n    localStorage.removeItem('shippingAddress');\r\n    dispatch({type: USER_SIGIN_SIGNOUT});\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { register } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function RegisterScreen(props) {\r\n\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n    const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\r\n\r\n    const userRegister = useSelector(state => state.userRegister);\r\n    const { userInfo, loading, error } = userRegister;\r\n\r\n    const dispatch = useDispatch();\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault();\r\n        if (confirmPassword !== password) {\r\n            alert(\"Password not match\")\r\n        } else{\r\n            dispatch(register(name, email, password));\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            props.history.push(redirect)\r\n        }\r\n    }, [props.history, redirect, userInfo]);\r\n    return (\r\n        <div>\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>Register</h1>\r\n                </div>\r\n                {loading && <LoadingBox></LoadingBox>}\r\n                {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n                <div>\r\n                    <label htmlFor=\"email\">Email address</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        placeholder=\"Enter email\"\r\n                        required\r\n                        onChange={e => setEmail(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        placeholder=\"Enter name\"\r\n                        required\r\n                        onChange={e => setName(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        placeholder=\"Enter password\"\r\n                        required\r\n                        onChange={e => setPassword(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"confirmPassword\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"confirmPasswords\"\r\n                        placeholder=\"Confirm password\"\r\n                        required\r\n                        onChange={e => setConfirmPassword(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label />\r\n                    <button className=\"primary\" type=\"submit\">Register</button>\r\n                </div>\r\n                <div>\r\n                    <label />\r\n                    <div>\r\n                        Already have an account?\r\n                        <Link to={`/signin?redirect=${redirect}`}>Sign in</Link>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function CheckoutSteps(props) {\r\n    return (\r\n        <div className=\"row checkout-steps\">\r\n            <div className={props.step1 ? 'active' : ''}>Sign in</div>   \r\n            <div className={props.step2 ? 'active' : ''}>Shipping</div>   \r\n            <div className={props.step3 ? 'active' : ''}>Payment</div>   \r\n            <div className={props.step4 ? 'active' : ''}>Place order</div>   \r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { saveShippingAddress } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps'\r\n\r\nexport default function ShippingAddressScreen(props) {\r\n\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n\r\n    const cart = useSelector(state => state.cart);\r\n    const { shippingAddress } = cart;\r\n    \r\n    if (!userInfo) {\r\n        props.history.push('/signin');\r\n    }\r\n    const [fullName, setFullName] = useState(shippingAddress.fullName);\r\n    const [address, setAddress] = useState(shippingAddress.address);\r\n    const [city, setCity] = useState(shippingAddress.city);\r\n    const [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n    const [country, setCountry] = useState(shippingAddress.country);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault(); \r\n        dispatch(saveShippingAddress({fullName, address, city, postalCode, country}));\r\n        props.history.push('/payment');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <CheckoutSteps step1 step2 ></CheckoutSteps>\r\n\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>Shipping Address</h1>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"fullName\"></label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"fullName\"\r\n                        placeholder=\"Enter full name\"\r\n                        value={fullName}\r\n                        onChange={e => setFullName(e.target.value)}\r\n                        required>\r\n                    </input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"address\"></label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"address\"\r\n                        placeholder=\"Enter address\"\r\n                        value={address}\r\n                        onChange={e => setAddress(e.target.value)}\r\n                        required>\r\n                    </input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"city\"></label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"city\"\r\n                        placeholder=\"Enter city\"\r\n                        value={city}\r\n                        onChange={e => setCity(e.target.value)}\r\n                        required>\r\n                    </input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"postalCode\"></label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"postalCode\"\r\n                        placeholder=\"Enter postal code\"\r\n                        value={postalCode}\r\n                        onChange={e => setPostalCode(e.target.value)}\r\n                        required>\r\n                    </input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"country\"></label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"country\"\r\n                        placeholder=\"Enter country\"\r\n                        value={country}\r\n                        onChange={e => setCountry(e.target.value)}\r\n                        required>\r\n                    </input>\r\n                </div>\r\n                <div>\r\n                    <label/>\r\n                    <button className=\"primary\" type=\"submit\">Continue</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nexport default function PaymentMethodScreen(props) {\r\n\r\n    const [paymetMethod, setPaymetMethod] = useState('Paypal');\r\n    const dispatch = useDispatch();\r\n\r\n    const cart = useSelector(state => state.cart);\r\n    const { shippingAddress } = cart;\r\n\r\n    if (!shippingAddress.address) {\r\n        props.history.push('/shipping');\r\n    }\r\n\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault();\r\n        dispatch(savePaymentMethod(paymetMethod));\r\n        props.history.push('/placeorder');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <CheckoutSteps step1 step2 step3></CheckoutSteps>\r\n\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>\r\n                        Payment Method\r\n                    </h1>\r\n                </div>\r\n                <div>\r\n                    <div>\r\n                        <input type=\"radio\" id=\"paypal\" value=\"PayPal\" name=\"paymentMethod\" required checked onChange={e => setPaymetMethod(e.target.value)}></input>\r\n                        <label htmlFor=\"paypal\">Paypal</label>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"radio\" id=\"creditCard\" value=\"Creditcard\" name=\"paymentMethod\" required onChange={e => setPaymetMethod(e.target.value)}></input>\r\n                        <label htmlFor=\"Creditcard\">Tarjeta de credito</label>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"radio\" id=\"pse\" value=\"pse\" name=\"paymentMethod\" required onChange={e => setPaymetMethod(e.target.value)}></input>\r\n                        <label htmlFor=\"pse\">PSE</label>\r\n                    </div>\r\n                    <div>\r\n                        <label/>\r\n                        <button className=\"primary\" type=\"submit\">Continue</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","export const ORDER_CREATE_REQUEST = \"ORDER_CREATE_REQUEST\";\r\nexport const ORDER_CREATE_SUCCESS = \"ORDER_CREATE_SUCCESS\";\r\nexport const ORDER_CREATE_FAIL = \"ORDER_CREATE_FAIL\";\r\nexport const ORDER_CREATE_RESET = \"ORDER_CREATE_RESET\";\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAIL_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAIL_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAIL_FAIL';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\nexport const ORDER_HISTORY_REQUEST = 'ORDER_HISTORY_REQUEST';\r\nexport const ORDER_HISTORY_SUCCESS = 'ORDER_HISTORY_SUCCESS';\r\nexport const ORDER_HISTORY_FAIL = 'ORDER_HISTORY_FAIL';\r\n\r\nexport const ORDER_DELETE_REQUEST = 'ORDER_DELETE_REQUEST';\r\nexport const ORDER_DELETE_SUCCESS = 'ORDER_DELETE_SUCCESS';\r\nexport const ORDER_DELETE_FAIL = 'ORDER_DELETE_FAIL';\r\n\r\nexport const ORDER_LIST_ADMIN_REQUEST = 'ORDER_LIST_ADMIN_REQUEST';\r\nexport const ORDER_LIST_ADMIN_SUCCESS = 'ORDER_LIST_ADMIN_SUCCESS';\r\nexport const ORDER_LIST_ADMIN_FAIL = 'ORDER_LIST_ADMIN_FAIL';\r\n\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { create } from '../actions/orderActions';\r\nimport { addToCart } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { ORDER_CREATE_RESET } from '../constants/orderConstants';\r\n\r\nexport default function PlaceOrderScreen(props) {\r\n\r\n    const dispatch = useDispatch('');\r\n    const cart = useSelector(state => state.cart);\r\n\r\n    const createOrder = useSelector(state => state.createOrder);\r\n    const { loading, success, error, order } = createOrder; \r\n\r\n    if (!cart.paymentMethod) {\r\n        props.history.push('/payment');\r\n    }\r\n\r\n    const toPrice = (num) => Number(num.toFixed(2));\r\n    cart.itemsPrice = toPrice(cart.cartItems.reduce((a,c)=> a + c.qty * c.price, 0));\r\n    cart.shippingPrice = cart.itemsPrice > 100 ? toPrice(0) : toPrice(10);\r\n    cart.taxPrice = toPrice(0.15 * cart.itemsPrice);\r\n    cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\r\n\r\n    const placeOrderHandler = (e) => {\r\n        dispatch(create({...cart, orderItems: cart.cartItems}));\r\n    }\r\n\r\n    useEffect(() =>{\r\n        if(success){\r\n            props.history.push(`/order/${order._id}`);\r\n            dispatch({ type: ORDER_CREATE_RESET });\r\n        }\r\n    }, [dispatch, props.history, order, success])\r\n    return (\r\n        <div>\r\n            <CheckoutSteps step1 step2 step3 step4></CheckoutSteps>\r\n            <div className=\"row top\">\r\n                <div className=\"col-2\">\r\n                    <ul>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Shipping</h2>\r\n                                <p>\r\n                                    <strong>Name: </strong>{cart.shippingAddress.fullName} <br/>\r\n                                    <strong>Address: </strong> {cart.shippingAddress.address}, \r\n                                    {cart.shippingAddress.city}, {cart.shippingAddress.postalCode},\r\n                                    {cart.shippingAddress.country}\r\n                                </p>\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Payment</h2>\r\n                                <p>\r\n                                    <strong>Method: </strong>{cart.paymentMethod} <br/>\r\n                                </p>\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Order items</h2>\r\n                                <div className=\"shopping-cart\">\r\n                                    {cart.cartItems.map((x) => (\r\n                                        <div className=\"products-cart\" key={x.product}>\r\n                                            <img src={x.image} className=\"image-cart\" alt={x.name} />\r\n                                            <div className=\"name-cart\"><Link to={`/product/${x.product}`}> {x.name} </Link></div>\r\n                                            <div className=\"qty-cart\">\r\n                                                <select value={x.qty} onChange={e => dispatch(addToCart(x.product, Number(e.target.value)))}>\r\n                                                        {\r\n                                                            [...Array(x.countInStock).keys()].map( x => (\r\n                                                                <option key={x + 1} value={x + 1}>\r\n                                                                    {x + 1}\r\n                                                                </option>\r\n                                                            ))\r\n                                                        }\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"price-cart\">{x.qty} x ${x.price} = ${x.qty * x.price}</div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-1\">\r\n                    <div className=\"card card-body\">\r\n                        <ul>\r\n                            <li>\r\n                                <h2>Order summary</h2>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Items</div>\r\n                                    <div>${cart.itemsPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Shipping</div>\r\n                                    <div>${cart.shippingPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Tax</div>\r\n                                    <div>${cart.taxPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div><strong>Total</strong></div>\r\n                                    <div><strong>${cart.totalPrice.toFixed(2)}</strong></div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <button type=\"button\" onClick={placeOrderHandler} disabled={cart.cartItems.length === 0} className=\"primary block\">Place order</button>\r\n                            </li>\r\n                            {loading && <LoadingBox></LoadingBox>}\r\n                            {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\";\r\nimport { CART_EMPTY } from \"../constants/cartConstants\";\r\nimport {\r\n    ORDER_CREATE_FAIL,\r\n    ORDER_CREATE_REQUEST,\r\n    ORDER_CREATE_SUCCESS,\r\n    ORDER_DELETE_REQUEST,\r\n    ORDER_DELETE_SUCCESS,\r\n    ORDER_DETAILS_FAIL,\r\n    ORDER_DETAILS_REQUEST,\r\n    ORDER_DETAILS_SUCCESS,\r\n    ORDER_HISTORY_FAIL,\r\n    ORDER_HISTORY_REQUEST,\r\n    ORDER_HISTORY_SUCCESS,\r\n    ORDER_LIST_ADMIN_FAIL,\r\n    ORDER_LIST_ADMIN_REQUEST,\r\n    ORDER_LIST_ADMIN_SUCCESS,\r\n    ORDER_PAY_FAIL,\r\n    ORDER_PAY_REQUEST,\r\n    ORDER_PAY_SUCCESS\r\n} from \"../constants/orderConstants\";\r\n\r\nexport const create = (order) => async (dispatch, getState) => {\r\n    dispatch({type: ORDER_CREATE_REQUEST, payload: order});\r\n\r\n    try {\r\n        const { userSignin: { userInfo } } = getState();\r\n\r\n        const { data } = await axios.post('/api/orders', order,{\r\n            headers:{\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            }\r\n        });\r\n        dispatch({type: ORDER_CREATE_SUCCESS, payload: data.order});\r\n        dispatch({type: CART_EMPTY, payload: data.order});\r\n        localStorage.removeItem('cartItems');\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_CREATE_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        });\r\n    }\r\n}\r\n\r\nexport const detailsOrder = (orderId) => async (dispatch, getState) =>{\r\n    dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId});\r\n\r\n    const { userSignin: { userInfo } } = getState();\r\n\r\n    try {\r\n        const { data } = await axios.get(`/api/orders/${orderId}`, {\r\n            headers:{\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            }\r\n        });\r\n        dispatch({ type:ORDER_DETAILS_SUCCESS, payload: data});\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_DETAILS_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        });\r\n    }\r\n}\r\n\r\nexport const payOrder = (order, paymentResult) => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_PAY_REQUEST});\r\n\r\n    const { userSignin: { userInfo } } = getState();\r\n    try {\r\n        const { data } = await axios.put(`/api/orders/${order._id}/pay`, paymentResult, {\r\n            headers:{\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            }\r\n        });\r\n        dispatch({type: ORDER_PAY_SUCCESS, payload: data});\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_PAY_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        });\r\n    }\r\n} \r\n\r\nexport const orderHistory = () => async (dispatch, getState) => {\r\n    dispatch({type: ORDER_HISTORY_REQUEST});\r\n\r\n    try {\r\n        const { userSignin: { userInfo } } = getState();\r\n\r\n        const { data } = await axios.post('/api/orders/list',\r\n        { id: userInfo._id, isAdmin: userInfo.isAdmin },\r\n        {headers: { Authorization: `Bearer ${userInfo.token}` }}\r\n        );\r\n\r\n        dispatch({type: ORDER_HISTORY_SUCCESS, payload: data});\r\n        \r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_HISTORY_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        });\r\n    }\r\n}\r\n\r\nexport const deleteOrder = (orderId) => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_DELETE_REQUEST });\r\n    const { userSignin: { userInfo } } = getState();\r\n\r\n    try {\r\n        const { data } = await axios.delete(`/api/orders/${orderId}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            },\r\n        });\r\n        dispatch( { type: ORDER_DELETE_SUCCESS, payload: data.deleteCount })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_HISTORY_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        });\r\n    }\r\n}\r\n\r\nexport const  listOrdersAdmin = () => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_LIST_ADMIN_REQUEST });\r\n\r\n    const { userSignin: { userInfo } } = getState();\r\n\r\n    try {\r\n        const { data } = await axios.post('/api/orders/list/all', {\r\n            id: userInfo._id,\r\n            isAdmin: userInfo.isAdmin\r\n        }, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        });\r\n        dispatch({ type: ORDER_LIST_ADMIN_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_LIST_ADMIN_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        }); \r\n    }\r\n}","export const BANKS_PAYU_LIST_REQUEST = 'BANKS_PAYU_LIST_REQUEST';\r\nexport const BANKS_PAYU_LIST_SUCCESS = 'BANKS_PAYU_LIST_SUCCESS';\r\nexport const BANKS_PAYU_LIST_FAIL = 'BANKS_PAYU_LIST_FAIL';\r\n\r\nexport const PSE_PAYU_SUBMIT_TRANSACTION_REQUEST = 'PSE_PAYU_SUBMIT_TRANSACTION_REQUEST';\r\nexport const PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS = 'PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS';\r\nexport const PSE_PAYU_SUBMIT_TRANSACTION_FAIL = 'PSE_PAYU_SUBMIT_TRANSACTION_FAIL';","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listBanks, registerPayment } from '../actions/paymentActions';\r\nimport LoadingBox from './LoadingBox';\r\nimport MessageBox from './MessageBox';\r\n\r\nexport default function FormPayment() {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const banksList = useSelector(state => state.banksList);\r\n    const { data, loading, error } = banksList;\r\n\r\n    const paymentState = useSelector(state => state.registerPayment);\r\n    const { pseTransaction, loading: loadingPse } = paymentState;\r\n\r\n    const [bank, setBank] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [typeClient, setTypeClient] = useState('N');\r\n    const [identification, setIdentification] = useState('');\r\n    const [typeIdentification, setTypeIdentification] = useState('CC');\r\n    const [phone, setPhone] = useState('');\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(registerPayment(\r\n            {\r\n                bank, \r\n                name, \r\n                typeClient, \r\n                identification, \r\n                typeIdentification, \r\n                phone\r\n            }\r\n        ));\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(listBanks());\r\n    }, [dispatch], loadingPse, pseTransaction);\r\n\r\n    return (\r\n\r\n        <div>\r\n        {\r\n            loading ? <LoadingBox></LoadingBox>\r\n            :\r\n            error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n            : \r\n            (<form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h2>Pago PSE</h2>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"bank\">Bank</label>\r\n                    <select id=\"bank\" onChange={e => setBank(e.target.value)}>\r\n                        {\r\n                            data.banks.map((item) => (\r\n                                <option value={item.id}>{item.description}</option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        placeholder=\"Enter name\"\r\n                        required\r\n                        onChange={e => setName(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"typeClient\">Type of client</label>\r\n\r\n                    <select id=\"typeClient\" onChange={e => setTypeClient(e.target.value)}>\r\n                        <option value=\"N\">Persona natural</option>\r\n                        <option value=\"J\">Persona juridica</option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"typeIdentification\">Type document</label>\r\n                    <select id=\"typeClient\" onChange={e => setTypeIdentification(e.target.value)}>\r\n                        <option value=\"CC\">Cédula de ciudadanía</option>\r\n                        <option value=\"CE\">Cédula de extranjería</option>\r\n                        <option value=\"NIT\">Número de Identificación Tributario</option>\r\n                        <option value=\"TI\">Tarjeta de Identidad</option>\r\n                        <option value=\"PP\">Pasaporte</option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"identification\">Document</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"identification\"\r\n                        placeholder=\"Enter number identification\"\r\n                        required\r\n                        onChange={e => setIdentification(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"phone\">Phone number</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        id=\"phone\"\r\n                        placeholder=\"Enter Phone number\"\r\n                        required\r\n                        onChange={e => setPhone(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    {\r\n                        loadingPse ? <LoadingBox></LoadingBox>\r\n                        :\r\n                        (\r\n                            <>\r\n                            <label />\r\n                            <button className=\"primary\" type=\"submit\">Continue</button>\r\n                            </>\r\n                        )\r\n                    }\r\n    \r\n                </div>\r\n            </form>)\r\n        }\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\";\r\nimport { BANKS_PAYU_LIST_FAIL, \r\n    BANKS_PAYU_LIST_REQUEST,\r\n    BANKS_PAYU_LIST_SUCCESS, \r\n    PSE_PAYU_SUBMIT_TRANSACTION_FAIL, \r\n    PSE_PAYU_SUBMIT_TRANSACTION_REQUEST,\r\n    PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS\r\n} from \"../constants/paymentConstants\"\r\n\r\nexport const listBanks = () => async (dispatch) => {\r\n    dispatch({ type: BANKS_PAYU_LIST_REQUEST });\r\n\r\n    try {\r\n        const { data } = await axios.get('/api/payment/payu/getBanks');\r\n        dispatch({ type: BANKS_PAYU_LIST_SUCCESS, payload: data });\r\n\r\n    } catch (error) {\r\n        dispatch({ \r\n            type: BANKS_PAYU_LIST_FAIL,\r\n            payload:\r\n               error.response && error.response.data.message\r\n               ? error.response.data.message\r\n               : error.message,\r\n       });\r\n    }\r\n}\r\n\r\nexport const registerPayment = (dataTransaction, order) => async (dispatch, getState) => {\r\n    dispatch({type: PSE_PAYU_SUBMIT_TRANSACTION_REQUEST});\r\n\r\n    const {orderDetails: { order } } = getState();\r\n\r\n    try {\r\n        const { data } = await axios.post('/api/payment/payu/pse/submit', { dataTransaction, order });\r\n        dispatch({type: PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS, payload: data});\r\n\r\n    } catch (error) {\r\n        dispatch({ \r\n            type: PSE_PAYU_SUBMIT_TRANSACTION_FAIL,\r\n            payload:\r\n               error.response && error.response.data.message\r\n               ? error.response.data.message\r\n               : error.message,\r\n       });\r\n    }\r\n}","import { deleteOrder, detailsOrder, payOrder } from '../actions/orderActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport React, { useEffect, useState } from 'react';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { ORDER_PAY_RESET } from '../constants/orderConstants';\r\nimport FormPayment from '../components/FormPayment';\r\n\r\nexport default function OrderScreen(props) {\r\n\r\n    const orderId = props.match.params.id;\r\n\r\n    const [sdkPayu, setSdkPayu] = useState(false);\r\n    const [sdkMercado, setSdkMercado] = useState(false);\r\n\r\n    // const [errorPayment, setErrorPayment] = useState(null);\r\n\r\n    const orderDetails = useSelector((state) => state.orderDetails);\r\n    const { order, loading, error } = orderDetails;\r\n\r\n    const removeOrder = useSelector((state => state.orderDelete));\r\n    const { success: successDelete } = removeOrder;\r\n\r\n    const orderPaid = useSelector(state => state.payOrder);\r\n    const { success: successPay } = orderPaid;\r\n\r\n    const dispatch = useDispatch('');\r\n    \r\n    useEffect(() =>{\r\n\r\n        const addPayPalScript = async () => {\r\n            const {data} = await axios.get('/api/config/paypal');\r\n            const script = document.createElement('script');\r\n            script.type = \"text/javascript\";\r\n            script.src = `https://www.paypal.com/sdk/js?client-id=${data}`;\r\n            script.async = true;\r\n            script.onload = () => {\r\n                setSdkPayu(true);\r\n            };\r\n            document.body.appendChild(script);\r\n        };\r\n\r\n        const addMercadoPagoScript = () => {\r\n            const script = document.createElement('script');\r\n            script.type = \"text/javascript\";\r\n            script.src = `https://sdk.mercadopago.com/js/v2`;\r\n            script.async = true;\r\n            script.onload = () => {\r\n                setSdkMercado(true);\r\n                loadButton();\r\n            };\r\n            document.body.appendChild(script);\r\n        };\r\n\r\n        const loadButton = async () => {\r\n            const { data } = await axios.post('/api/payment/mercado-pago/preference',{\r\n                \"preference\": {\r\n                    \"items\": [\r\n                    {\r\n                        \"title\": \"Mi producto\",\r\n                        \"unit_price\": 100,\r\n                        \"quantity\": 1\r\n                    }\r\n                    ]\r\n                }\r\n            });\r\n            const mp = new window.MercadoPago('APP_USR-c27a943d-1333-44c3-9f7d-01da1ac8856e', {\r\n                locale: 'es-CO'\r\n            });\r\n    \r\n            mp.checkout({\r\n                preference: {\r\n                    id: data\r\n                },\r\n                render: {\r\n                        container: '.cho-container', // Indica el nombre de la clase donde se mostrará el botón de pago\r\n                        label: 'Pagar', // Cambia el texto del botón de pago (opcional)\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        if(successPay){\r\n            dispatch({type: ORDER_PAY_RESET})\r\n        }\r\n\r\n        dispatch(detailsOrder(orderId));\r\n\r\n        if(!window.MercadoPago){\r\n            addMercadoPagoScript();\r\n        } else {\r\n            loadButton();\r\n            setSdkMercado(true);\r\n        }\r\n\r\n        if (!window.paypal) {\r\n            addPayPalScript();\r\n        } else {\r\n            setSdkPayu(true);\r\n        }\r\n\r\n    },[dispatch, orderId, successPay]);\r\n\r\n    const successPaymentHandler = (paymentResult) => {\r\n        dispatch(payOrder(order, paymentResult));\r\n    }\r\n\r\n    const errorPaymentHandler = (paymentResult) => {\r\n        // setErrorPayment(paymentResult);\r\n    }\r\n\r\n    const orderDelete = () => {\r\n        dispatch(deleteOrder(orderId));\r\n        if(successDelete){\r\n            props.history.push('/orderhistory');\r\n        }\r\n    }\r\n    \r\n    return loading ? (<LoadingBox></LoadingBox>):\r\n    order === undefined ? (<LoadingBox></LoadingBox>) :\r\n    error ? (<MessageBox variant=\"danger\">{error}</MessageBox>)\r\n    :\r\n    (\r\n        <div>\r\n            \r\n            <div className=\"row top\">\r\n                <div className=\"col-2\">\r\n                    <ul>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Order: {order._id}</h2>\r\n                                {\r\n                                    !order.isPaid && \r\n                                    (\r\n                                        <button className=\"danger\" onClick={() => orderDelete()}>Delete order</button>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Shipping</h2>\r\n                                <p>\r\n                                    <strong>Name: </strong>{order.shippingAddress.fullName} <br/>\r\n                                    <strong>Address: </strong> {order.shippingAddress.address}, \r\n                                    {order.shippingAddress.city}, {order.shippingAddress.postalCode},\r\n                                    {order.shippingAddress.country}\r\n                                </p>\r\n                                {order.isDelivered ?\r\n                                    <MessageBox variant=\"success\">Delivered at: {order.deliveredAt.split('T')[0]}</MessageBox>\r\n                                :\r\n                                    <MessageBox variant=\"danger\">Not delivered</MessageBox>\r\n                                }\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Payment</h2>\r\n                                <p>\r\n                                    <strong>Method: </strong>{order.paymentMethod} <br/>\r\n                                </p>\r\n                                {order.isPaid ?\r\n                                    <MessageBox variant=\"success\">Paid at: {order.paidAt.split('T')[0]}</MessageBox>\r\n                                :\r\n                                    <MessageBox variant=\"danger\">Not Paid</MessageBox>\r\n                                }\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Order items</h2>\r\n                                    <div className=\"shopping-cart\">\r\n                                        {order.orderItems.map((x) => (\r\n                                            <div className=\"products-cart\" key={x.product}>\r\n                                                <img src={x.image} className=\"image-cart\" alt={x.name} />\r\n                                                <div className=\"name-cart\"><Link to={`/product/${x.product}`}> {x.name} </Link></div>\r\n                                                <div className=\"price-cart\">{x.qty} x ${x.price} = ${x.qty * x.price}</div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-1\">\r\n                    <div className=\"card card-body\">\r\n                        <ul>\r\n                            <li>\r\n                                <h2>Order summary</h2>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Items</div>\r\n                                    <div>${order.itemsPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Shipping</div>\r\n                                    <div>${order.shippingPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Tax</div>\r\n                                    <div>${order.taxPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div><strong>Total</strong></div>\r\n                                    <div><strong>${order.totalPrice.toFixed(2)}</strong></div>\r\n                                </div>\r\n                            </li>\r\n                            {\r\n                                !order.isPaid && (\r\n                                    <>\r\n                                    {order.paymentMethod === 'Paypal' ?\r\n                                    (\r\n                                    <li>\r\n                                        {!sdkPayu ? (<LoadingBox></LoadingBox>)\r\n                                        :\r\n                                        (\r\n                                            <PayPalButton amount={order.totalPrice} onSuccess={successPaymentHandler} onError={errorPaymentHandler}></PayPalButton>\r\n                                        )}\r\n                                    </li>\r\n                                    )\r\n                                    : order.paymentMethod === 'pse' ?\r\n                                    (\r\n                                        <li>\r\n                                            <FormPayment></FormPayment>\r\n                                        </li>\r\n                                    )\r\n                                    :\r\n                                    (\r\n                                        <li>\r\n                                        {!sdkMercado ? (<LoadingBox></LoadingBox>)\r\n                                        :\r\n                                        (\r\n                                            <div className=\"cho-container\"></div>\r\n                                        )}\r\n                                    </li>\r\n                                    )\r\n                                    }\r\n                                    </>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { orderHistory } from '../actions/orderActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function OrderHistoryScreen(props) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const removeOrder = useSelector((state => state.orderDelete));\r\n    const { success: successDelete } = removeOrder;\r\n    \r\n    const historyOrder = useSelector(state => state.orderHistory);\r\n    const { orders, error, loading } = historyOrder;\r\n\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n\r\n    if(!userInfo){\r\n        props.history.push('/');\r\n    }\r\n\r\n    useEffect(() =>{\r\n        dispatch(orderHistory());\r\n    }, [dispatch, successDelete]);\r\n    return (\r\n        <div>\r\n            {\r\n                loading ? <LoadingBox></LoadingBox>\r\n                :\r\n                error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n                :\r\n                orders.length === 0 ? <MessageBox variant=\"danger\">No orders yet. <Link to=\"/\"> Go to shopping</Link></MessageBox>\r\n                :\r\n                (\r\n                <div className=\"table-content\">\r\n                    <h2>Order history</h2>\r\n                    <table>\r\n                        <tr>\r\n                            <th>Id</th>\r\n                            <th>Date</th>\r\n                            <th>Total</th>\r\n                            <th>Paid</th>\r\n                            <th>Delivered</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                        {\r\n                            orders.map(item => (\r\n                                <tr>\r\n                                    <td>{item._id}</td>\r\n                                    <td>{item.createdAt.split('T')[0]} {item.createdAt.split('T')[1]}</td>\r\n                                    <td>${item.totalPrice.toFixed(2)}</td>\r\n                                    <td>{ item.isPaid ? (<span className=\"success\">Si</span>) : 'No' }</td>\r\n                                    <td>{ item.isDelivered ? (<span className=\"success\">Si</span>) : 'No' }</td>\r\n                                    <td> <Link to={`/order/${item._id}`}>Details</Link></td>\r\n                                </tr>\r\n                            ))\r\n                        }\r\n                        <tr>\r\n        \r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateUserProfile } from '../actions/userActions';\r\nimport swal from 'sweetalert';\r\n\r\nexport default function FormUser(props) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { user, form } = props.data;\r\n\r\n    const [name, setName] = useState(user.name);\r\n    const [email, setEmail] = useState(user.email);\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault();\r\n        if (password !== confirmPassword) {\r\n            swal({\r\n                text: \"passwords not match\",\r\n                icon: \"error\",\r\n              });\r\n        } else {\r\n            dispatch(updateUserProfile({...user, name: name, email:email, password: password}));\r\n            setPassword('');\r\n            setConfirmPassword('');\r\n            swal({\r\n                text: \"Profile updated\",\r\n                icon: \"success\",\r\n              });\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>{form.title}</h1>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"email\">Email address</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        value={email}\r\n                        placeholder=\"Enter email\"\r\n                        required\r\n                        onChange={e => setEmail(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        value={name}\r\n                        placeholder=\"Enter name\"\r\n                        required\r\n                        onChange={e => setName(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        placeholder=\"Enter password\"\r\n                        required\r\n                        onChange={e => setPassword(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"confirmPassword\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"confirmPasswords\"\r\n                        placeholder=\"Confirm password\"\r\n                        required\r\n                        onChange={e => setConfirmPassword(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label />\r\n                    <button className=\"primary\" type=\"submit\">{form.button}</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport FormUser from '../components/FormUser';\r\n\r\nexport default function ProfileScreen(props) {\r\n\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n\r\n    if (!userInfo) {\r\n        props.history.push('/signin');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <FormUser data={{ user: userInfo, form: { title: 'Update profile', button: 'update'} }}></FormUser>\r\n        </div>\r\n    )\r\n}\r\n","import { Redirect, Route } from 'react-router-dom';\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function PrivateRoute( {component: Component, ...rest}) {\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                userInfo ?\r\n                    (<Component {...props}></Component>)\r\n                    :\r\n                    (<Redirect to=\"/signin\"/>)\r\n            }>\r\n        </Route>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { signout } from '../actions/userActions';\r\n\r\nexport default function Header() {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const cart = useSelector(state => state.cart);\r\n    const { cartItems } = cart;\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n\r\n    const signoutHandler = () =>{\r\n        dispatch(signout());\r\n        return <Redirect to=\"/\"></Redirect>\r\n      }    \r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"brand\">\r\n                <button>&#9776;</button>\r\n                <Link to=\"/\">Ecommerce</Link>\r\n            </div>\r\n            \r\n            <div className=\"header-links\">\r\n                <Link to=\"/cart\">\r\n                    Cart\r\n                    {cartItems.length > 0 && (\r\n                        <span className=\"badge\"> {cartItems.length} </span>\r\n                    )}\r\n                </Link>\r\n                {\r\n                    userInfo && userInfo.isAdmin && (\r\n                        <div className=\"dropdown\">\r\n                            <Link to=\"#\">Admin <i className=\"fa fa-caret-down\"></i></Link>\r\n                            <ul className=\"dropdown-content\">\r\n                                <li><Link to=\"/admin/dashboard\">Dashboard</Link></li>\r\n                                <li><Link to=\"/admin/products\">Products</Link></li>\r\n                                <li><Link to=\"/admin/orders\">Orders</Link></li>\r\n                                <li><Link to=\"/admin/users\">Users</Link></li>\r\n                            </ul>\r\n                       </div> \r\n                    )\r\n                }\r\n                {\r\n                    userInfo ? (\r\n                        <div className=\"dropdown\">\r\n                            <Link to=\"#\">{userInfo.name} <i className=\"fa fa-caret-down\"></i></Link>\r\n                            <ul className=\"dropdown-content\">\r\n                                <li><Link to=\"/profile\">Profile</Link></li>\r\n                                <li><Link to=\"/orderhistory\">Order history</Link></li>\r\n                                <li><Link to=\"#signout\" onClick={signoutHandler}>Signout</Link></li>\r\n                            </ul>\r\n                       </div> \r\n                    )\r\n                    :\r\n                    (\r\n                        <Link to=\"/signin\">Sign In</Link>\r\n                    )\r\n                }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            All right reserved.\r\n        </footer>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { listOrdersAdmin } from '../actions/orderActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function AdminOrderScreen() {\r\n    const dispatch = useDispatch();\r\n\r\n    const list = useSelector(state => state.listOrders);\r\n    const { orders, loading, error } = list;\r\n\r\n    useEffect(() => {\r\n        dispatch(listOrdersAdmin());\r\n    }, [dispatch])\r\n    return (\r\n        <div>\r\n          {\r\n                loading ? <LoadingBox></LoadingBox>\r\n                :\r\n                error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n                :\r\n                (\r\n                <div className=\"table-content\">\r\n                    <h2>Order list</h2>\r\n                    <table>\r\n                        <tr>\r\n                            <th>Id</th>\r\n                            <th>Date</th>\r\n                            <th>Total</th>\r\n                            <th>Paid</th>\r\n                            <th>Delivered</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                        {\r\n                            orders.map(item => (\r\n                                <tr>\r\n                                    <td>{item._id}</td>\r\n                                    <td>{item.createdAt.split('T')[0]} {item.createdAt.split('T')[1]}</td>\r\n                                    <td>${item.totalPrice.toFixed(2)}</td>\r\n                                    <td>{ item.isPaid ? (<span className=\"success\">Si</span>) : 'No' }</td>\r\n                                    <td>\r\n                                        { item.isDelivered ?\r\n                                            (<span className=\"success\">Si</span>)\r\n                                            :\r\n                                            (<span>\r\n                                                No\r\n                                                <button className = \"button\">Deliver</button>\r\n                                            </span>)\r\n                                        }\r\n                                    </td>\r\n                                    <td> <Link to={`/order/${item._id}`}>Details</Link></td>\r\n                                </tr>\r\n                            ))\r\n                        }\r\n                        <tr>\r\n        \r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport default function PrivateRouteAdmin({ component: Component, ...rest }) {\r\n    const  userSignin  = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                userInfo !== undefined &&\r\n                    userInfo.isAdmin ?\r\n                        (<Component {...props}></Component>)\r\n                        :\r\n                        (<Redirect to=\"/\"/>)\r\n        }>\r\n        </Route>\r\n    )\r\n}\r\n","import {BrowserRouter, HashRouter, Route } from 'react-router-dom';\r\nimport ProductScreen from './screens/ProductScreen';\r\nimport HomeScreen from './screens/HomeScreen';\r\nimport CartScreen from './screens/CartScreen';\r\nimport { Link } from 'react-router-dom';\r\n// import { useDispatch, useSelector } from 'react-redux';\r\nimport SigninScreen from './screens/SigninScreen';\r\n// import { signout } from './actions/userActions';\r\nimport RegisterScreen from './screens/RegisterScreen';\r\nimport ShippingAddressScreen from './screens/ShippingAddressScreen';\r\nimport PaymentMethodScreen from './screens/PaymentMethodScreen';\r\nimport PlaceOrderScreen from './screens/PlaceOrderScreen';\r\nimport OrderScreen from './screens/OrderScreen';\r\nimport OrderHistoryScreen from './screens/OrderHistoryScreen';\r\nimport ProfileScreen from './screens/ProfileScreen';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport Header from './components/Header';\r\nimport Footer from './components/Footer';\r\nimport AdminOrderScreen from './screens/AdminOrderScreen';\r\nimport PrivateRouteAdmin from './components/PrivateRouteAdmin';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <BrowserRouter>\r\n    <div className=\"grid-container\">\r\n    \r\n        <HashRouter>\r\n            <Header></Header>\r\n        </HashRouter>\r\n\r\n        <aside className=\"sidebar\">\r\n            <h3>Shopping Categories</h3>\r\n            <button className=\"sidebar-close-button\">x</button>\r\n            <ul>\r\n                <li><Link to=\"index.html\">Pants</Link></li>\r\n                <li><Link to=\"index.html\">Shirts</Link></li>\r\n            </ul>\r\n        </aside>\r\n\r\n        <main className=\"main\">\r\n            <HashRouter>\r\n                <Route path=\"/signin\" component={SigninScreen}></Route>\r\n                <Route path=\"/register\" component={RegisterScreen}></Route>\r\n                <Route path=\"/cart/:id?\" component={CartScreen}></Route> \r\n                <Route path=\"/product/:id\" component={ProductScreen}></Route>\r\n                <Route path=\"/\" component={HomeScreen} exact></Route>\r\n                <Route path=\"/shipping\" component={ShippingAddressScreen}></Route>\r\n                <Route path=\"/payment\" component={PaymentMethodScreen}></Route>\r\n                <Route path=\"/placeorder\" component={PlaceOrderScreen}></Route>\r\n                <Route path=\"/order/:id\" component={OrderScreen}></Route>\r\n                <Route path=\"/orderhistory\" component={OrderHistoryScreen}></Route>\r\n                <PrivateRoute path=\"/profile\" component={ProfileScreen}></PrivateRoute>\r\n\r\n                <PrivateRouteAdmin path=\"/admin/orders\" component={AdminOrderScreen}></PrivateRouteAdmin>\r\n            </HashRouter>\r\n        </main>\r\n\r\n        <HashRouter>\r\n            <Footer></Footer>\r\n        </HashRouter>\r\n    </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const {\r\n    PRODUCT_LIST_FAIL,\r\n    PRODUCT_LIST_REQUEST,\r\n    PRODUCT_LIST_SUCCESS,\r\n    PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_FAIL,\r\n    PRODUCT_DETAILS_SUCCESS\r\n} = require(\"../constants/productConstants\");\r\n\r\nexport const productListReducer = (state = { loading: true, products: [] }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_LIST_REQUEST :\r\n            return { loading: true };\r\n        case PRODUCT_LIST_SUCCESS:\r\n            return { loading: false, products: action.payload }\r\n        case PRODUCT_LIST_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const productDetailsReducer = (state = {loading: true, product: {}}, action) =>{\r\n    switch (action.type) {\r\n        case PRODUCT_DETAILS_REQUEST:\r\n            return { loading: true };\r\n        case PRODUCT_DETAILS_SUCCESS:\r\n            return {loading: false, product: action.payload};\r\n        case PRODUCT_DETAILS_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { applyMiddleware, createStore, compose, combineReducers } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { cartReducer } from './reducers/cartReducers';\r\nimport { productDetailsReducer, productListReducer } from './reducers/productReducers';\r\nimport { userProfileReducer, userRegisterReducer, userSigninReducer } from './reducers/userReducers';\r\nimport { createOrderReducer, detailsOrderReducer, listOrdersAdminReducer, orderDeleteReducer, orderHistoryReducer, payOrderReducer } from './reducers/orderReducer';\r\nimport { listBanksReducer, registerPaymentReducer } from './reducers/paymentReducers';\r\n\r\nconst initialState = {\r\n    userSignin: {\r\n        userInfo: localStorage.getItem('userInfo')\r\n        ? JSON.parse(localStorage.getItem('userInfo'))\r\n        :   null\r\n    },\r\n    cart: {\r\n        cartItems: localStorage.getItem('cartItems')\r\n        ? JSON.parse(localStorage.getItem('cartItems'))\r\n        : [],\r\n        shippingAddress: localStorage.getItem('shippingAddress')\r\n        ? JSON.parse(localStorage.getItem('shippingAddress'))\r\n        : {},\r\n        paymentMethod: 'Paypal',\r\n    }\r\n};\r\n\r\nconst reducer = combineReducers({\r\n    productList: productListReducer,\r\n    productDetail: productDetailsReducer,\r\n    cart: cartReducer,\r\n    userSignin: userSigninReducer,\r\n    userRegister: userRegisterReducer,\r\n    createOrder: createOrderReducer,\r\n    orderDetails: detailsOrderReducer,\r\n    payOrder: payOrderReducer,\r\n    orderHistory: orderHistoryReducer,\r\n    updateUser: userProfileReducer,\r\n    banksList: listBanksReducer,\r\n    registerPayment: registerPaymentReducer,\r\n    orderDelete: orderDeleteReducer,\r\n    listOrders: listOrdersAdminReducer\r\n})\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    initialState, \r\n    composeEnhancer(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;","import { CART_ADD_ITEM, CART_EMPTY, CART_REMOVE_ITEM, CART_SAVE_PAYMENT_METHOD, CART_SAVE_SHIPPING_ADDRESS } from \"../constants/cartConstants\";\r\n\r\nexport const cartReducer = (state = { cartItems:[] }, action) => {\r\n    switch (action.type) {\r\n        case CART_ADD_ITEM:\r\n            const item = action.payload;\r\n            const existItem = state.cartItems.find(x => x.product === item.product);\r\n            if (existItem) {\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.map( (x) =>\r\n                     x.product === existItem.product ? item: x\r\n                    ),\r\n                }\r\n            } else {\r\n                return { ...state, cartItems: [...state.cartItems, item] } \r\n            }\r\n        case CART_REMOVE_ITEM:\r\n            return {...state,\r\n                cartItems: state.cartItems.filter((x) => x.product !== action.payload)\r\n            };\r\n        case CART_SAVE_SHIPPING_ADDRESS:\r\n            return { ...state, shippingAddress: action.payload};\r\n        case CART_SAVE_PAYMENT_METHOD:\r\n            return { ...state, paymentMethod: action.payload};\r\n        case CART_EMPTY:\r\n                return { ...state, cartItems: [] };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_SIGIN_FAIL, USER_SIGIN_REQUEST, USER_SIGIN_SIGNOUT, USER_SIGIN_SUCCESS, USER_UPDATE_FAIL, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS } from \"../constants/userConstants\";\r\n\r\nexport const userSigninReducer = (state ={}, action) =>{\r\n    switch (action.type) {\r\n        case USER_SIGIN_REQUEST:\r\n            return {loading: true};\r\n        case USER_SIGIN_SUCCESS:\r\n            return {loading: false, userInfo: action.payload};\r\n        case USER_SIGIN_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        case USER_SIGIN_SIGNOUT:\r\n            return {};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const userRegisterReducer = (state ={}, action) =>{\r\n    switch (action.type) {\r\n        case USER_REGISTER_REQUEST:\r\n            return {loading: true};\r\n        case USER_SIGIN_SUCCESS:\r\n            return {loading: false, userInfo: action.payload};\r\n        case USER_REGISTER_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const userProfileReducer = (state = { loading: true }, action) => {\r\n    switch (action.type) {\r\n        case USER_UPDATE_REQUEST:\r\n            return { loading: true };\r\n        case USER_UPDATE_SUCCESS:\r\n            return { loading: false, user: action.payload };\r\n        case USER_UPDATE_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { \r\n    ORDER_CREATE_FAIL,\r\n    ORDER_CREATE_REQUEST,\r\n    ORDER_CREATE_RESET,\r\n    ORDER_CREATE_SUCCESS, \r\n    ORDER_DELETE_FAIL, \r\n    ORDER_DELETE_REQUEST, \r\n    ORDER_DETAILS_FAIL, \r\n    ORDER_DETAILS_REQUEST,\r\n    ORDER_DETAILS_SUCCESS,\r\n    ORDER_HISTORY_FAIL,\r\n    ORDER_HISTORY_REQUEST,\r\n    ORDER_HISTORY_SUCCESS,\r\n    ORDER_LIST_ADMIN_FAIL,\r\n    ORDER_LIST_ADMIN_REQUEST,\r\n    ORDER_LIST_ADMIN_SUCCESS,\r\n    ORDER_PAY_FAIL,\r\n    ORDER_PAY_REQUEST,\r\n    ORDER_PAY_RESET,\r\n    ORDER_PAY_SUCCESS\r\n} from \"../constants/orderConstants\";\r\n\r\nexport const createOrderReducer = (state= {}, action) => {\r\n    switch (action.type) {\r\n        case ORDER_CREATE_REQUEST:\r\n            return { loading: true};\r\n        case ORDER_CREATE_SUCCESS:\r\n            return {loading: false, success: true, order: action.payload};\r\n        case ORDER_CREATE_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        case ORDER_CREATE_RESET:\r\n            return {};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const detailsOrderReducer = (state = { loading: false }, action) => {\r\n    switch (action.type) {\r\n        case ORDER_DETAILS_REQUEST:\r\n            return { loading: true };\r\n        case ORDER_DETAILS_SUCCESS:\r\n            return { loading: false, order: action.payload};\r\n        case ORDER_DETAILS_FAIL:\r\n            return { loading: false, error: action.payload}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const payOrderReducer = (state ={ success: false}, action) => {\r\n    switch (action.type) {\r\n        case ORDER_PAY_REQUEST:\r\n            return { loading: true };\r\n        case ORDER_PAY_SUCCESS:\r\n            return { loading: false, success: true };\r\n        case ORDER_PAY_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        case ORDER_PAY_RESET:\r\n            return {};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const orderHistoryReducer = ( state= { loading: true, orders: []}, action ) => {\r\n    switch (action.type) {\r\n        case ORDER_HISTORY_REQUEST:\r\n            return { loading: true };\r\n        case ORDER_HISTORY_SUCCESS:\r\n            return { loading: false, orders: action.payload };\r\n        case ORDER_HISTORY_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const orderDeleteReducer = (state = { loading: true }, action) => {\r\n    switch (action.type) {\r\n        case ORDER_DELETE_REQUEST:\r\n            return { loading: true };\r\n        case ORDER_DETAILS_SUCCESS:\r\n            return { loading: true, success: action.payload };\r\n        case ORDER_DELETE_FAIL:\r\n            return { loading: true, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const listOrdersAdminReducer = (state = { loading: true }, action) => {\r\n    switch (action.type) {\r\n        case ORDER_LIST_ADMIN_REQUEST:\r\n            return { loading: true };\r\n        case ORDER_LIST_ADMIN_SUCCESS:\r\n            return { loading: false, orders: action.payload };\r\n        case ORDER_LIST_ADMIN_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {\r\n    BANKS_PAYU_LIST_FAIL, \r\n    BANKS_PAYU_LIST_REQUEST, \r\n    BANKS_PAYU_LIST_SUCCESS, \r\n    PSE_PAYU_SUBMIT_TRANSACTION_FAIL, \r\n    PSE_PAYU_SUBMIT_TRANSACTION_REQUEST,\r\n    PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS\r\n} from \"../constants/paymentConstants\";\r\n\r\nexport const listBanksReducer = (state ={ loading: true, data: [] }, action) =>{\r\n    switch (action.type) {\r\n        case BANKS_PAYU_LIST_REQUEST:\r\n            return { loading: true };\r\n        case BANKS_PAYU_LIST_SUCCESS:\r\n            return { loading: false, data: action.payload};\r\n        case BANKS_PAYU_LIST_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const registerPaymentReducer = (state = { loading: false }, action) => {\r\n    switch (action.type) {\r\n        case PSE_PAYU_SUBMIT_TRANSACTION_REQUEST:\r\n            return { loading: true };\r\n        case PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS:\r\n            return { loading: false, pseTransaction: action.payload};\r\n        case PSE_PAYU_SUBMIT_TRANSACTION_FAIL:\r\n            return { loading: false, error: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}