{"version":3,"sources":["constants/productConstants.js","components/Rating.js","components/Cart.js","actions/productActions.js","components/MessageBox.js","components/LoadingBox.js","screens/ProductScreen.js","components/Product.js","screens/HomeScreen.js","constants/cartConstants.js","actions/cartActions.js","screens/CartScreen.js","constants/userConstants.js","screens/SigninScreen.js","actions/userActions.js","screens/RegisterScreen.js","components/checkout/CheckoutSteps.js","screens/ShippingAddressScreen.js","screens/PaymentMethodScreen.js","constants/orderConstants.js","screens/PlaceOrderScreen.js","actions/orderActions.js","constants/paymentConstants.js","components/FormPayment.js","actions/paymentActions.js","screens/OrderScreen.js","screens/OrderHistoryScreen.js","components/FormUser.js","screens/ProfileScreen.js","components/PrivateRoute.js","components/common/Header.js","components/common/Footer.js","screens/Admin/AdminOrderScreen.js","components/PrivateRouteAdmin.js","screens/Admin/AdminProductScreen.js","screens/EditProductScreen.js","App.js","reportWebVitals.js","reducers/productReducers.js","store.js","reducers/cartReducers.js","reducers/userReducers.js","reducers/orderReducer.js","reducers/paymentReducers.js","index.js"],"names":["PRODUCT_LIST_REQUEST","PRODUCT_LIST_SUCCESS","PRODUCT_LIST_FAIL","PRODUCT_DETAILS_REQUEST","PRODUCT_DETAILS_SUCCESS","PRODUCT_DETAILS_FAIL","PRODUCT_UPDATE_REQUEST","PRODUCT_UPDATE_SUCCESS","PRODUCT_UPDATE_FAIL","Rating","props","rating","numReviews","className","Cart","product","url","useState","qty","setQty","price","countInStock","value","onChange","e","target","Array","keys","map","x","onClick","history","push","_id","listProducts","dispatch","a","type","Axios","get","data","payload","message","detailsProduct","productId","response","MessageBox","variant","children","LoadingBox","ProductScreen","useDispatch","match","params","id","productDetail","useSelector","state","loading","error","useEffect","to","src","image","alt","name","description","Product","brand","HomeScreen","productList","products","CART_ADD_ITEM","CART_REMOVE_ITEM","CART_SAVE_SHIPPING_ADDRESS","CART_SAVE_PAYMENT_METHOD","CART_EMPTY","addToCart","getState","localStorage","setItem","JSON","stringify","cart","cartItems","CartScreen","location","search","Number","split","length","reduce","c","disabled","USER_SIGIN_REQUEST","USER_SIGIN_SUCCESS","USER_SIGIN_FAIL","USER_SIGIN_SIGNOUT","USER_REGISTER_REQUEST","USER_REGISTER_FAIL","USER_UPDATE_REQUEST","USER_UPDATE_SUCCESS","USER_UPDATE_FAIL","SigninScreen","email","setEmail","password","setPassword","redirect","userSignin","userInfo","onSubmit","preventDefault","post","signin","htmlFor","placeholder","required","RegisterScreen","setName","confirmPassword","setConfirmPassword","userRegister","alert","register","steps","CheckoutSteps","React","activeStep","setActiveStep","step","Fragment","Paper","Stepper","label","Step","StepLabel","ShippingAddressScreen","shippingAddress","fullName","setFullName","address","setAddress","city","setCity","postalCode","setPostalCode","country","setCountry","PaymentMethodScreen","paymetMethod","setPaymetMethod","checked","ORDER_CREATE_REQUEST","ORDER_CREATE_SUCCESS","ORDER_CREATE_FAIL","ORDER_CREATE_RESET","ORDER_DETAILS_REQUEST","ORDER_DETAILS_SUCCESS","ORDER_DETAILS_FAIL","ORDER_PAY_REQUEST","ORDER_PAY_SUCCESS","ORDER_PAY_FAIL","ORDER_PAY_RESET","ORDER_HISTORY_REQUEST","ORDER_HISTORY_SUCCESS","ORDER_HISTORY_FAIL","ORDER_DELETE_REQUEST","ORDER_DELETE_FAIL","ORDER_LIST_ADMIN_REQUEST","ORDER_LIST_ADMIN_SUCCESS","ORDER_LIST_ADMIN_FAIL","PlaceOrderScreen","createOrder","success","order","paymentMethod","toPrice","num","toFixed","itemsPrice","shippingPrice","taxPrice","totalPrice","axios","headers","Authorization","token","removeItem","create","orderItems","BANKS_PAYU_LIST_REQUEST","BANKS_PAYU_LIST_SUCCESS","BANKS_PAYU_LIST_FAIL","PSE_PAYU_SUBMIT_TRANSACTION_REQUEST","PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS","PSE_PAYU_SUBMIT_TRANSACTION_FAIL","FormPayment","banksList","paymentState","registerPayment","pseTransaction","loadingPse","bank","setBank","typeClient","setTypeClient","identification","setIdentification","typeIdentification","setTypeIdentification","phone","setPhone","dataTransaction","orderDetails","banks","item","OrderScreen","orderId","sdkPayu","setSdkPayu","sdkMercado","setSdkMercado","successDelete","orderDelete","successPay","payOrder","addPayPalScript","script","document","createElement","async","onload","body","appendChild","loadButton","window","MercadoPago","locale","checkout","preference","render","container","detailsOrder","addMercadoPagoScript","paypal","delete","deleteCount","deleteOrder","undefined","isPaid","isDelivered","deliveredAt","paidAt","amount","onSuccess","paymentResult","put","onError","OrderHistoryScreen","historyOrder","orderHistory","orders","isAdmin","createdAt","FormUser","user","form","swal","text","icon","userUpdate","updateUserProfile","title","button","ProfileScreen","PrivateRoute","Component","component","rest","Header","Footer","AdminOrderScreen","list","listOrders","PrivateRouteAdmin","AdminProductScreen","category","updatedAt","EditProductScreen","productUpdate","errorUpdated","setBrand","setCategory","setPrice","setStock","setDescription","updateProduct","App","path","exact","Checkout","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","require","initialState","getItem","parse","reducer","combineReducers","action","existItem","find","filter","updateUser","composeEnhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.eee1bf53.chunk.js","sourcesContent":["export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\n\r\nexport const PRODUCT_DETAILS_REQUEST = 'PRODUCT_DETAILS_REQUEST';\r\nexport const PRODUCT_DETAILS_SUCCESS = 'PRODUCT_DETAILS_SUCCESS';\r\nexport const PRODUCT_DETAILS_FAIL = 'PRODUCT_DETAILS_FAIL';\r\n\r\nexport const PRODUCT_UPDATE_REQUEST = 'PRODUCT_UPDATE_REQUEST';\r\nexport const PRODUCT_UPDATE_SUCCESS = 'PRODUCT_UPDATE_SUCCESS';\r\nexport const PRODUCT_UPDATE_FAIL = 'PRODUCT_UPDATE_FAIL';","import React from 'react'\r\n\r\nexport default function Rating(props) {\r\n    const {rating, numReviews} = props;\r\n    return (\r\n        <div className=\"product-rating\">\r\n        <span>\r\n            <i className={ rating >= 1 ? \"fas fa-star\": rating >= 0.5 ? \"fas fa-star-half-alt\": \"far fa-star\"}></i>\r\n        </span>\r\n        <span>\r\n            <i className={ rating >= 2 ? \"fas fa-star\": rating >= 1.5 ? \"fas fa-star-half-alt\": \"far fa-star\"}></i>\r\n        </span>\r\n        <span>\r\n            <i className={ rating >= 3 ? \"fas fa-star\": rating >= 2.5 ? \"fas fa-star-half-alt\": \"far fa-star\"}></i>\r\n        </span>\r\n        <span>\r\n            <i className={ rating >= 4 ? \"fas fa-star\": rating >= 3.5 ? \"fas fa-star-half-alt\": \"far fa-star\"}></i>\r\n        </span>\r\n        <span>\r\n            <i className={ rating >= 5 ? \"fas fa-star\": rating >= 4.5 ? \"fas fa-star-half-alt\": \"far fa-star\"}></i>\r\n        </span>\r\n        <span>\r\n            {numReviews + 'reviews'}\r\n        </span>\r\n    </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nexport default function Cart(props) {\r\n    const {product, url} = props;\r\n    const [qty, setQty] = useState(1);\r\n\r\n    const addToCartHandler = () => {\r\n        url.history.push(`/cart/${product._id}?qty=${qty}`)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <ul>\r\n                <li>\r\n                    <div className=\"row\">\r\n                        <div>Price: </div>\r\n                        <div className=\"price\">${product.price}</div>\r\n                    </div>\r\n                </li>\r\n                <li>\r\n                    <div className=\"row\">\r\n                        <div>Status: </div>\r\n                        <div className=\"status\">\r\n                            {\r\n                                product.countInStock > 0 ?\r\n                                (<span className=\"success\">In Stock</span>)\r\n                                :\r\n                                (<span className=\"error\">Unavailable</span>)\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </li>\r\n                {\r\n                    product.countInStock > 0 && (\r\n                        <>\r\n                        <li>\r\n                            <div className=\"row\">\r\n                                <div>Qty</div>\r\n                                <div>\r\n                                    <select value={qty} onChange={e => setQty(e.target.value)}>\r\n                                        {\r\n                                            [...Array(product.countInStock).keys()].map( x => (\r\n                                                <option key={x + 1} value={x + 1}>\r\n                                                    {x + 1}\r\n                                                </option>\r\n                                            ))\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <button onClick={addToCartHandler} className=\"primary block\">Add</button>\r\n                        </li>\r\n                        </>\r\n                    )\r\n                }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\";\r\nimport Axios from \"axios\";\r\nimport {\r\n    PRODUCT_DETAILS_FAIL,\r\n    PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_LIST_FAIL,\r\n    PRODUCT_LIST_REQUEST,\r\n    PRODUCT_LIST_SUCCESS, \r\n    PRODUCT_UPDATE_FAIL, \r\n    PRODUCT_UPDATE_REQUEST,\r\n    PRODUCT_UPDATE_SUCCESS} from \"../constants/productConstants\";\r\n\r\n export const listProducts = () => async (dispatch) => {\r\n    dispatch({\r\n        type: PRODUCT_LIST_REQUEST,\r\n    });\r\n    try {\r\n        const {data} = await Axios.get('/api/products');\r\n        dispatch({ type: PRODUCT_LIST_SUCCESS, payload: data })\r\n    } catch (error) {\r\n        dispatch({ type: PRODUCT_LIST_FAIL, payload: error.message})\r\n    }\r\n }\r\n\r\n export const detailsProduct = (productId) => async (dispatch) => {\r\n\r\n     dispatch({ type: PRODUCT_DETAILS_REQUEST, payload: productId });\r\n\r\n     try {\r\n         const { data } = await Axios.get(`/api/products/${productId}`);\r\n         dispatch({ type: PRODUCT_DETAILS_SUCCESS, payload: data })\r\n     } catch (error) {\r\n         dispatch({ \r\n             type: PRODUCT_DETAILS_FAIL,\r\n             payload:\r\n                error.response && error.response.data.message\r\n                ? error.response.data.message\r\n                : error.message,\r\n        });\r\n     }\r\n }\r\n\r\nexport const updateProduct = (productId, product) => async (dispatch) => {\r\n    dispatch({ type: PRODUCT_UPDATE_REQUEST, payload: productId});\r\n\r\n    try {\r\n        const { data } = await axios.put(`/api/products/update/${productId}`, {\r\n            product: product\r\n        });\r\n        dispatch( { type: PRODUCT_UPDATE_SUCCESS, payload: data });\r\n        \r\n    } catch (error) {\r\n        dispatch({ \r\n            type: PRODUCT_UPDATE_FAIL,\r\n            payload:\r\n               error.response && error.response.data.message\r\n               ? error.response.data.message\r\n               : error.message,\r\n       });\r\n    }\r\n}","import React from 'react'\r\n\r\nexport default function MessageBox(props) {\r\n\r\n    // const \r\n    return (\r\n        <div className={`alert alert-${props.variant || 'info'}`}>\r\n            {props.children}\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function LoadingBox() {\r\n    return (\r\n        <div className=\"spinner-content\">\r\n            <div className=\"spinner\"></div>\r\n        </div>\r\n        // <div className=\"loading\">\r\n        //     <i className=\"fa fa-spinner fa-spin\"></i> Loading...\r\n        // </div>\r\n    )\r\n}\r\n","// import data from '../data';\r\nimport React, { useEffect } from 'react'\r\nimport Rating from '../components/Rating';\r\nimport { Link } from 'react-router-dom';\r\nimport Cart from '../components/Cart';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { detailsProduct } from '../actions/productActions';\r\nimport MessageBox from '../components/MessageBox';\r\nimport LoadingBox from '../components/LoadingBox';\r\n\r\nexport default function ProductScreen(props) {\r\n    const dispatch = useDispatch();\r\n    const productId = props.match.params.id;\r\n    \r\n    const productDetail = useSelector(state => state.productDetail);\r\n    const { loading, error, product } = productDetail;\r\n\r\n    useEffect(() => {\r\n        dispatch(detailsProduct(productId));\r\n    }, [dispatch, productId]);\r\n\r\n    return (\r\n        <div>\r\n            {loading ? <LoadingBox></LoadingBox>\r\n            : \r\n            error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n            :\r\n            (\r\n            <div>\r\n            <Link to=\"/\">Back to result</Link>\r\n            <div className=\"row top\">\r\n                <div className=\"col-2\">\r\n                    <img className=\"large\" src={product.image} alt={product.name}/>\r\n                </div>\r\n                <div className=\"col-1\">\r\n                    <ul>\r\n                        <li>\r\n                            <h1>{product.name}</h1>\r\n                        </li>\r\n                        <li>\r\n                            <Rating rating={product.rating} numReviews={product.numReviews}></Rating>\r\n                        </li>\r\n                        <li>\r\n                            Price : ${product.price}\r\n                        </li>\r\n                        <li>\r\n                            Description : {product.description}\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-1 card card-body\">\r\n                    <Cart url={props} product={product}></Cart>\r\n                </div>\r\n            </div>\r\n            </div>  \r\n            )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Rating from './Rating';\r\nimport { Link } from 'react-router-dom';\r\n// import { CardMedia } from '@material-ui/core';\r\n\r\nexport default function Product(props) {\r\n    const {product} = props;\r\n\r\n    return (\r\n        <div>\r\n            <li key={product._id}>\r\n                <div  className=\"product\">\r\n                    <img className=\"product-image\" src={product.image} alt={product.name} />\r\n                    <div className=\"product-name\">\r\n                        <Link to={`/product/${product._id}`}>{product.name}</Link>\r\n                    </div>\r\n                    <div className=\"product-brand\">{product.brand}</div>\r\n                    <Rating rating={product.rating} numReviews={product.numReviews}></Rating>\r\n                    <div className=\"product-price\">${product.price}</div> \r\n                </div>\r\n            </li>    \r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\n\r\nimport Product from '../components/Product';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listProducts } from '../actions/productActions';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function HomeScreen() {\r\n    const dispatch = useDispatch();\r\n    const productList = useSelector(state => state.productList);\r\n    const { loading, error, products } = productList;\r\n\r\n    useEffect(() => { \r\n      dispatch(listProducts());\r\n    }, [dispatch]);\r\n\r\n    return (\r\n        <div>\r\n          <div className=\"home-brand col-1\">\r\n            <ul>\r\n              <li>\r\n                <Link to=\"/men\">\r\n                  <img className=\"brand-image\" src=\"images/home_page/brand-m.jpg\" alt=\"brand-men\" />\r\n                   <span className=\"brand-title-image-men\">Men</span>\r\n                </Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/woman\">\r\n                  <img className=\"brand-image\" src=\"images/home_page/brand-w.jpg\" alt=\"brand-women\" />\r\n                   <span className=\"brand-title-image-woman\">Woman</span>\r\n                </Link>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div className=\"home-list col-2\">\r\n              {loading ? <LoadingBox></LoadingBox>\r\n              :\r\n              error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n              :\r\n              (<ul className=\"products\">\r\n                {\r\n                  products.map((product) =>(\r\n                    <Product key={product._id} product={product}></Product>\r\n                  ))\r\n                }  \r\n              </ul>)\r\n              }\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n","export const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CARD_REMOVE_ITEM';\r\nexport const CART_SAVE_SHIPPING_ADDRESS = 'CART_SAVE_SHIPPING_ADDRESS';\r\nexport const CART_SAVE_PAYMENT_METHOD = 'CART_SAVE_PAYMENT_METHOD';\r\nexport const CART_EMPTY = 'CART_EMPTY';","import Axios from \"axios\";\r\nimport {\r\n    CART_ADD_ITEM,\r\n    CART_REMOVE_ITEM,\r\n    CART_SAVE_SHIPPING_ADDRESS,\r\n    CART_SAVE_PAYMENT_METHOD\r\n} from \"../constants/cartConstants\";\r\n\r\nexport const addToCart = (productId, qty) => async (dispatch, getState) => {\r\n    const { data } = await Axios.get(`/api/products/${productId}`);\r\n    dispatch({\r\n        type: CART_ADD_ITEM,\r\n        payload: {\r\n            name: data.name,\r\n            image: data.image,\r\n            price: data.price,\r\n            countInStock: data.countInStock,\r\n            product: data._id,\r\n            qty,\r\n        }\r\n    });\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n}\r\n\r\nexport const removeFromCart = (productId) => (dispatch, getState) => {\r\n    dispatch({ type: CART_REMOVE_ITEM, payload: productId });\r\n    localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n}\r\n\r\nexport const saveShippingAddress = (data) => (dispatch) =>{\r\n    dispatch({type: CART_SAVE_SHIPPING_ADDRESS, payload: data});\r\n    localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n}\r\n\r\nexport const savePaymentMethod = (data) => (dispatch) => {\r\n    dispatch({ type: CART_SAVE_PAYMENT_METHOD, payload: data});\r\n}","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\n// import { addToCart, removeFromCart } from '../actions/cartActions';\r\nimport { addToCart } from '../actions/cartActions';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function CartScreen(props) {\r\n    const dispatch = useDispatch();\r\n    const productId = props.match.params.id;\r\n\r\n    const qty =  props.location.search\r\n            ? Number(props.location.search.split('=')[1])\r\n            : 1;\r\n\r\n    useEffect(()=>{\r\n        if (productId) {\r\n            dispatch(addToCart(productId, qty));\r\n        }\r\n    }, [dispatch, productId, qty]);\r\n\r\n\r\n    const cart = useSelector(state => state.cart);\r\n    const { cartItems } = cart;\r\n\r\n    // const removeFromCartHandler = (id) =>{\r\n    //     dispatch(removeFromCart(id));\r\n    // }\r\n    \r\n    const checkoutHandler = () => {\r\n        props.history.push('/signin?redirect=shipping');\r\n    }\r\n    return (\r\n        <div>\r\n            {\r\n                cartItems.length > 0\r\n                ?\r\n                <div className=\"shopping\">\r\n                    <span className=\"title-cart\">Shopping cart</span>\r\n                    <div className=\"shopping-content\">\r\n                        <div className=\" col-2\">\r\n                        <table>\r\n                            <tr>\r\n                                <th>Products</th>\r\n                                <th>Price</th>\r\n                                <th>Count</th>\r\n                                {/* <th>Total</th> */}\r\n                            </tr>\r\n                    \r\n                        {cartItems.map((x) => (\r\n                            <tr>\r\n                                <td>\r\n                                    <img src={x.image} className=\"image-cart\" alt={x.name} />\r\n                                    <div className=\"details-cart\">\r\n                                        <Link to={`/product/${x.product}`}> {x.name} </Link> <br />\r\n                                        <span>Talla: M</span>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <div className=\"price-cart\">${x.price}</div>\r\n                                </td>\r\n                                <td>\r\n                                    <div className=\"qty-cart\">\r\n                                        <select value={x.qty} onChange={e => dispatch(addToCart(x.product, Number(e.target.value)))}>\r\n                                                {\r\n                                                    [...Array(x.countInStock).keys()].map( x => (\r\n                                                        <option key={x + 1} value={x + 1}>\r\n                                                            {x + 1}\r\n                                                        </option>\r\n                                                    ))\r\n                                                }\r\n                                        </select>\r\n                                    </div>\r\n                                </td>\r\n                            </tr>\r\n                        ))}\r\n                        </table>\r\n                        </div>\r\n                        <div className=\"col-1\">\r\n                            <div className=\"card card-body\">\r\n                                <ul>\r\n                                    <li>\r\n                                        <h4>\r\n                                            Subtotal ({cartItems.reduce((a, c)=> a + c.qty, 0)} items): $\r\n                                            {cartItems.reduce((a, c) => a + c.price * c.qty, 0)}\r\n                                        </h4>\r\n                                    </li>\r\n                                    <li>\r\n                                        <button\r\n                                        type=\"button\"\r\n                                        onClick={checkoutHandler}\r\n                                        className=\"primary block\"\r\n                                        disabled={cartItems.length === 0}>\r\n                                            Proceed to Checkout\r\n                                        </button>\r\n                                    </li>\r\n                                </ul>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                :\r\n                (<MessageBox>Cart is empty <Link to={\"/\"}>Go to shopping</Link></MessageBox>)\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","export const USER_SIGIN_REQUEST = \"USER_SIGIN_REQUEST\";\r\nexport const USER_SIGIN_SUCCESS = \"USER_SIGIN_SUCCESS\";\r\nexport const USER_SIGIN_FAIL = \"USER_SIGIN_FAIL\";\r\nexport const USER_SIGIN_SIGNOUT = \"USER_SIGIN_SIGNOUT\";\r\n\r\nexport const USER_REGISTER_REQUEST = \"USER_REGISTER_REQUEST\";\r\nexport const USER_REGISTER_SUCCESS = \"USER_REGISTER_SUCCESS\";\r\nexport const USER_REGISTER_FAIL = \"USER_REGISTER_FAIL\";\r\n\r\nexport const USER_UPDATE_REQUEST = \"USER_UPDATE_REQUEST\";\r\nexport const USER_UPDATE_SUCCESS = \"USER_UPDATE_SUCCESS\";\r\nexport const USER_UPDATE_FAIL = \"USER_UPDATE_FAIL\";\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { signin } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function SigninScreen(props) {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\r\n\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo, loading, error } = userSignin;\r\n\r\n    const dispatch = useDispatch();\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault();\r\n        dispatch(signin(email, password));\r\n\r\n    }\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            props.history.push(redirect)\r\n        }\r\n    }, [props.history, redirect, userInfo]);\r\n    return (\r\n        <div>\r\n\r\n            {loading && <LoadingBox></LoadingBox>}\r\n            {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n            \r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>Sign In</h1>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"email\">Email address</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        placeholder=\"Enter email\"\r\n                        required\r\n                        onChange={e => setEmail(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        placeholder=\"Enter password\"\r\n                        required\r\n                        onChange={e => setPassword(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label />\r\n                    <button className=\"primary\" type=\"submit\">Sign In</button>\r\n                </div>\r\n                <div>\r\n                    <label />\r\n                    <div>\r\n                        New customer? {' '}\r\n                        <Link to={`/register`}>Create your account</Link>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import Axios from 'axios';\r\nimport {\r\n    USER_REGISTER_FAIL,\r\n    USER_REGISTER_REQUEST,\r\n    USER_REGISTER_SUCCESS,\r\n    USER_SIGIN_FAIL,\r\n    USER_SIGIN_REQUEST,\r\n    USER_SIGIN_SIGNOUT,\r\n    USER_SIGIN_SUCCESS,\r\n    USER_UPDATE_REQUEST,\r\n    USER_UPDATE_SUCCESS,\r\n    USER_UPDATE_FAIL,\r\n} from \"../constants/userConstants\"\r\n\r\nexport const signin = (email, password) => async (dispatch) =>{\r\n    dispatch({type:USER_SIGIN_REQUEST, payload:{email, password}});\r\n\r\n    try {\r\n      const {data} = await Axios.post('api/users/signin', { email, password });\r\n      dispatch({ type: USER_SIGIN_SUCCESS, payload: data});\r\n      localStorage.setItem('userInfo', JSON.stringify(data));\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type:USER_SIGIN_FAIL,\r\n            payload: error.response && error.response.data.message\r\n            ? error.response.data.message:\r\n            error.response\r\n        })\r\n    }\r\n}\r\n\r\nexport const register = (name, email, password) => async (dispatch) =>{\r\n    dispatch({type:USER_REGISTER_REQUEST, payload:{name, email, password}});\r\n\r\n    try {\r\n      const {data} = await Axios.post('api/users/register', { name, email, password });\r\n      dispatch({ type: USER_REGISTER_SUCCESS, payload: data});\r\n      dispatch({ type: USER_SIGIN_SUCCESS, payload: data});\r\n      localStorage.setItem('userInfo', JSON.stringify(data));\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_REGISTER_FAIL,\r\n            payload: error.response && error.response.data.message\r\n            ? error.response.data.message:\r\n            error.response\r\n        });\r\n    }\r\n}\r\n\r\nexport const updateUserProfile = (user) => async (dispatch, getState) => {\r\n    dispatch({ type: USER_UPDATE_REQUEST, payload: user});\r\n\r\n    try {\r\n        const { data } = await Axios.put(`api/users/update/${user._id}`, user, {\r\n            headers:{\r\n                Authorization: `Bearer ${user.token}`\r\n            }\r\n        });\r\n\r\n        const userUpdate = {...user,\r\n            name: data.user.name,\r\n            email: data.user.email\r\n        };\r\n\r\n        dispatch({type: USER_UPDATE_SUCCESS, payload: userUpdate});\r\n        dispatch({ type: USER_SIGIN_SUCCESS, payload: userUpdate});\r\n        localStorage.setItem('userInfo', JSON.stringify(userUpdate));\r\n    } catch (error) {\r\n        dispatch({\r\n            type: USER_UPDATE_FAIL,\r\n            payload: error.response && error.response.data.message\r\n            ? error.response.data.message:\r\n            error.response\r\n        });\r\n    }\r\n}\r\n\r\nexport const signout = () => async (dispatch) => {\r\n    localStorage.removeItem('userInfo');\r\n    localStorage.removeItem('cartItems');\r\n    localStorage.removeItem('shippingAddress');\r\n    dispatch({type: USER_SIGIN_SIGNOUT});\r\n}","import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { register } from '../actions/userActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n\r\nexport default function RegisterScreen(props) {\r\n\r\n    const [name, setName] = useState('');\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n    const redirect = props.location.search ? props.location.search.split('=')[1] : '/';\r\n\r\n    const userRegister = useSelector(state => state.userRegister);\r\n    const { userInfo, loading, error } = userRegister;\r\n\r\n    const dispatch = useDispatch();\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault();\r\n        if (confirmPassword !== password) {\r\n            alert(\"Password not match\")\r\n        } else{\r\n            dispatch(register(name, email, password));\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        if (userInfo) {\r\n            props.history.push(redirect)\r\n        }\r\n    }, [props.history, redirect, userInfo]);\r\n    return (\r\n        <div>\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>Register</h1>\r\n                </div>\r\n                {loading && <LoadingBox></LoadingBox>}\r\n                {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n                <div>\r\n                    <label htmlFor=\"email\">Email address</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        placeholder=\"Enter email\"\r\n                        required\r\n                        onChange={e => setEmail(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        placeholder=\"Enter name\"\r\n                        required\r\n                        onChange={e => setName(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        placeholder=\"Enter password\"\r\n                        required\r\n                        onChange={e => setPassword(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"confirmPassword\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"confirmPasswords\"\r\n                        placeholder=\"Confirm password\"\r\n                        required\r\n                        onChange={e => setConfirmPassword(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label />\r\n                    <button className=\"primary\" type=\"submit\">Register</button>\r\n                </div>\r\n                <div>\r\n                    <label />\r\n                    <div>\r\n                        Already have an account?\r\n                        <Link to={`/signin?redirect=${redirect}`}>Sign in</Link>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Stepper from '@material-ui/core/Stepper';\r\nimport Step from '@material-ui/core/Step';\r\nimport StepLabel from '@material-ui/core/StepLabel';\r\n\r\nconst steps = ['Sign in', 'Shipping address', 'Payment', 'Review your order'];\r\n\r\nexport default function CheckoutSteps(props) {\r\n  const [activeStep, setActiveStep] = React.useState(1);\r\n\r\n  useEffect(() => {\r\n      setActiveStep(props.step);\r\n  }, [activeStep, props]);\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <main>\r\n        <Paper className=\"\">\r\n          <Stepper activeStep={activeStep}>\r\n            {steps.map((label) => (\r\n              <Step key={label}>\r\n                <StepLabel>{label}</StepLabel>\r\n              </Step>\r\n            ))}\r\n          </Stepper>\r\n        </Paper>\r\n      </main>\r\n    </React.Fragment>\r\n  );\r\n}","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { saveShippingAddress } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/checkout/CheckoutSteps';\r\n// import CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nexport default function ShippingAddressScreen(props) {\r\n\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n\r\n    const cart = useSelector(state => state.cart);\r\n    const { shippingAddress } = cart;\r\n    \r\n    if (!userInfo) {\r\n        props.history.push('/signin');\r\n    }\r\n    const [fullName, setFullName] = useState(shippingAddress.fullName);\r\n    const [address, setAddress] = useState(shippingAddress.address);\r\n    const [city, setCity] = useState(shippingAddress.city);\r\n    const [postalCode, setPostalCode] = useState(shippingAddress.postalCode);\r\n    const [country, setCountry] = useState(shippingAddress.country);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault(); \r\n        dispatch(saveShippingAddress({fullName, address, city, postalCode, country}));\r\n        props.history.push('/payment');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <CheckoutSteps step=\"2\" />\r\n\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>Shipping Address</h1>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"fullName\"></label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"fullName\"\r\n                        placeholder=\"Enter full name\"\r\n                        value={fullName}\r\n                        onChange={e => setFullName(e.target.value)}\r\n                        required>\r\n                    </input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"address\"></label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"address\"\r\n                        placeholder=\"Enter address\"\r\n                        value={address}\r\n                        onChange={e => setAddress(e.target.value)}\r\n                        required>\r\n                    </input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"city\"></label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"city\"\r\n                        placeholder=\"Enter city\"\r\n                        value={city}\r\n                        onChange={e => setCity(e.target.value)}\r\n                        required>\r\n                    </input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"postalCode\"></label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"postalCode\"\r\n                        placeholder=\"Enter postal code\"\r\n                        value={postalCode}\r\n                        onChange={e => setPostalCode(e.target.value)}\r\n                        required>\r\n                    </input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"country\"></label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"country\"\r\n                        placeholder=\"Enter country\"\r\n                        value={country}\r\n                        onChange={e => setCountry(e.target.value)}\r\n                        required>\r\n                    </input>\r\n                </div>\r\n                <div>\r\n                    <label/>\r\n                    <button className=\"primary\" type=\"submit\">Continue</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { savePaymentMethod } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/checkout/CheckoutSteps';\r\n\r\nexport default function PaymentMethodScreen(props) {\r\n\r\n    const [paymetMethod, setPaymetMethod] = useState('Paypal');\r\n    const dispatch = useDispatch();\r\n\r\n    const cart = useSelector(state => state.cart);\r\n    const { shippingAddress } = cart;\r\n\r\n    if (!shippingAddress.address) {\r\n        props.history.push('/shipping');\r\n    }\r\n\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault();\r\n        dispatch(savePaymentMethod(paymetMethod));\r\n        props.history.push('/placeorder');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <CheckoutSteps step=\"3\" />\r\n\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>\r\n                        Payment Method\r\n                    </h1>\r\n                </div>\r\n                <div>\r\n                    <div>\r\n                        <input type=\"radio\" id=\"paypal\" value=\"PayPal\" name=\"paymentMethod\" required checked onChange={e => setPaymetMethod(e.target.value)}></input>\r\n                        <label htmlFor=\"paypal\">Paypal</label>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"radio\" id=\"creditCard\" value=\"Creditcard\" name=\"paymentMethod\" required onChange={e => setPaymetMethod(e.target.value)}></input>\r\n                        <label htmlFor=\"Creditcard\">Tarjeta de credito</label>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"radio\" id=\"pse\" value=\"pse\" name=\"paymentMethod\" required onChange={e => setPaymetMethod(e.target.value)}></input>\r\n                        <label htmlFor=\"pse\">PSE</label>\r\n                    </div>\r\n                    <div>\r\n                        <label/>\r\n                        <button className=\"primary block\" type=\"submit\">Continue</button>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <label/>\r\n                        <button className=\"secundary block\" type=\"button\" onClick={() => props.history.push('/shipping')}>back</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","export const ORDER_CREATE_REQUEST = \"ORDER_CREATE_REQUEST\";\r\nexport const ORDER_CREATE_SUCCESS = \"ORDER_CREATE_SUCCESS\";\r\nexport const ORDER_CREATE_FAIL = \"ORDER_CREATE_FAIL\";\r\nexport const ORDER_CREATE_RESET = \"ORDER_CREATE_RESET\";\r\n\r\nexport const ORDER_DETAILS_REQUEST = 'ORDER_DETAIL_REQUEST';\r\nexport const ORDER_DETAILS_SUCCESS = 'ORDER_DETAIL_SUCCESS';\r\nexport const ORDER_DETAILS_FAIL = 'ORDER_DETAIL_FAIL';\r\n\r\nexport const ORDER_PAY_REQUEST = 'ORDER_PAY_REQUEST';\r\nexport const ORDER_PAY_SUCCESS = 'ORDER_PAY_SUCCESS';\r\nexport const ORDER_PAY_FAIL = 'ORDER_PAY_FAIL';\r\nexport const ORDER_PAY_RESET = 'ORDER_PAY_RESET';\r\n\r\nexport const ORDER_HISTORY_REQUEST = 'ORDER_HISTORY_REQUEST';\r\nexport const ORDER_HISTORY_SUCCESS = 'ORDER_HISTORY_SUCCESS';\r\nexport const ORDER_HISTORY_FAIL = 'ORDER_HISTORY_FAIL';\r\n\r\nexport const ORDER_DELETE_REQUEST = 'ORDER_DELETE_REQUEST';\r\nexport const ORDER_DELETE_SUCCESS = 'ORDER_DELETE_SUCCESS';\r\nexport const ORDER_DELETE_FAIL = 'ORDER_DELETE_FAIL';\r\n\r\nexport const ORDER_LIST_ADMIN_REQUEST = 'ORDER_LIST_ADMIN_REQUEST';\r\nexport const ORDER_LIST_ADMIN_SUCCESS = 'ORDER_LIST_ADMIN_SUCCESS';\r\nexport const ORDER_LIST_ADMIN_FAIL = 'ORDER_LIST_ADMIN_FAIL';\r\n\r\n\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { create } from '../actions/orderActions';\r\nimport { addToCart } from '../actions/cartActions';\r\nimport CheckoutSteps from '../components/checkout/CheckoutSteps';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { ORDER_CREATE_RESET } from '../constants/orderConstants';\r\n\r\nexport default function PlaceOrderScreen(props) {\r\n\r\n    const dispatch = useDispatch('');\r\n    const cart = useSelector(state => state.cart);\r\n\r\n    const createOrder = useSelector(state => state.createOrder);\r\n    const { loading, success, error, order } = createOrder; \r\n\r\n    if (!cart.paymentMethod) {\r\n        props.history.push('/payment');\r\n    }\r\n\r\n    const toPrice = (num) => Number(num.toFixed(2));\r\n    cart.itemsPrice = toPrice(cart.cartItems.reduce((a,c)=> a + c.qty * c.price, 0));\r\n    cart.shippingPrice = cart.itemsPrice > 100 ? toPrice(0) : toPrice(10);\r\n    cart.taxPrice = toPrice(0.15 * cart.itemsPrice);\r\n    cart.totalPrice = cart.itemsPrice + cart.shippingPrice + cart.taxPrice;\r\n\r\n    const placeOrderHandler = (e) => {\r\n        dispatch(create({...cart, orderItems: cart.cartItems}));\r\n    }\r\n\r\n    useEffect(() =>{\r\n        if(success){\r\n            props.history.push(`/order/${order._id}`);\r\n            dispatch({ type: ORDER_CREATE_RESET });\r\n        }\r\n    }, [dispatch, props.history, order, success])\r\n    return (\r\n        <div>\r\n            <CheckoutSteps step=\"4\" />\r\n            \r\n            <div className=\"row top\">\r\n                <div className=\"col-2\">\r\n                    <ul>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Shipping</h2>\r\n                                <p>\r\n                                    <strong>Name: </strong>{cart.shippingAddress.fullName} <br/>\r\n                                    <strong>Address: </strong> {cart.shippingAddress.address}, \r\n                                    {cart.shippingAddress.city}, {cart.shippingAddress.postalCode},\r\n                                    {cart.shippingAddress.country}\r\n                                </p>\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Payment</h2>\r\n                                <p>\r\n                                    <strong>Method: </strong>{cart.paymentMethod} <br/>\r\n                                </p>\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h2>Order items</h2>\r\n                                <div className=\"shopping-cart\">\r\n                                    {cart.cartItems.map((x) => (\r\n                                        <div className=\"products-cart\" key={x.product}>\r\n                                            <img src={x.image} className=\"image-cart\" alt={x.name} />\r\n                                            <div className=\"name-cart\"><Link to={`/product/${x.product}`}> {x.name} </Link></div>\r\n                                            <div className=\"qty-cart\">\r\n                                                <select value={x.qty} onChange={e => dispatch(addToCart(x.product, Number(e.target.value)))}>\r\n                                                        {\r\n                                                            [...Array(x.countInStock).keys()].map( x => (\r\n                                                                <option key={x + 1} value={x + 1}>\r\n                                                                    {x + 1}\r\n                                                                </option>\r\n                                                            ))\r\n                                                        }\r\n                                                </select>\r\n                                            </div>\r\n                                            <div className=\"price-cart\">{x.qty} x ${x.price} = ${x.qty * x.price}</div>\r\n                                        </div>\r\n                                    ))}\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-1\">\r\n                    <div className=\"card card-body\">\r\n                        <ul>\r\n                            <li>\r\n                                <h2>Order summary</h2>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Items</div>\r\n                                    <div>${cart.itemsPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Shipping</div>\r\n                                    <div>${cart.shippingPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Tax</div>\r\n                                    <div>${cart.taxPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div><strong>Total</strong></div>\r\n                                    <div><strong>${cart.totalPrice.toFixed(2)}</strong></div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <button type=\"button\" onClick={placeOrderHandler} disabled={cart.cartItems.length === 0} className=\"primary block\">Place order</button>\r\n                            </li>\r\n                            <li>\r\n                                {/* <label/> */}\r\n                                <button className=\"secundary block\" type=\"button\" onClick={() => props.history.push('/payment')}>back</button>\r\n                            </li>\r\n                            {loading && <LoadingBox></LoadingBox>}\r\n                            {error && <MessageBox variant=\"danger\">{error}</MessageBox>}\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\";\r\nimport { CART_EMPTY } from \"../constants/cartConstants\";\r\nimport {\r\n    ORDER_CREATE_FAIL,\r\n    ORDER_CREATE_REQUEST,\r\n    ORDER_CREATE_SUCCESS,\r\n    ORDER_DELETE_REQUEST,\r\n    ORDER_DELETE_SUCCESS,\r\n    ORDER_DETAILS_FAIL,\r\n    ORDER_DETAILS_REQUEST,\r\n    ORDER_DETAILS_SUCCESS,\r\n    ORDER_HISTORY_FAIL,\r\n    ORDER_HISTORY_REQUEST,\r\n    ORDER_HISTORY_SUCCESS,\r\n    ORDER_LIST_ADMIN_FAIL,\r\n    ORDER_LIST_ADMIN_REQUEST,\r\n    ORDER_LIST_ADMIN_SUCCESS,\r\n    ORDER_PAY_FAIL,\r\n    ORDER_PAY_REQUEST,\r\n    ORDER_PAY_SUCCESS\r\n} from \"../constants/orderConstants\";\r\n\r\nexport const create = (order) => async (dispatch, getState) => {\r\n    dispatch({type: ORDER_CREATE_REQUEST, payload: order});\r\n\r\n    try {\r\n        const { userSignin: { userInfo } } = getState();\r\n\r\n        const { data } = await axios.post('/api/orders', order,{\r\n            headers:{\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            }\r\n        });\r\n        dispatch({type: ORDER_CREATE_SUCCESS, payload: data.order});\r\n        dispatch({type: CART_EMPTY, payload: data.order});\r\n        localStorage.removeItem('cartItems');\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_CREATE_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        });\r\n    }\r\n}\r\n\r\nexport const detailsOrder = (orderId) => async (dispatch, getState) =>{\r\n    dispatch({ type: ORDER_DETAILS_REQUEST, payload: orderId});\r\n\r\n    const { userSignin: { userInfo } } = getState();\r\n\r\n    try {\r\n        const { data } = await axios.get(`/api/orders/${orderId}`, {\r\n            headers:{\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            }\r\n        });\r\n        dispatch({ type:ORDER_DETAILS_SUCCESS, payload: data});\r\n\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_DETAILS_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        });\r\n    }\r\n}\r\n\r\nexport const payOrder = (order, paymentResult) => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_PAY_REQUEST});\r\n\r\n    const { userSignin: { userInfo } } = getState();\r\n    try {\r\n        const { data } = await axios.put(`/api/orders/${order._id}/pay`, paymentResult, {\r\n            headers:{\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            }\r\n        });\r\n        dispatch({type: ORDER_PAY_SUCCESS, payload: data});\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_PAY_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        });\r\n    }\r\n} \r\n\r\nexport const orderHistory = () => async (dispatch, getState) => {\r\n    dispatch({type: ORDER_HISTORY_REQUEST});\r\n\r\n    try {\r\n        const { userSignin: { userInfo } } = getState();\r\n\r\n        const { data } = await axios.post('/api/orders/list',\r\n        { id: userInfo._id, isAdmin: userInfo.isAdmin },\r\n        {headers: { Authorization: `Bearer ${userInfo.token}` }}\r\n        );\r\n\r\n        dispatch({type: ORDER_HISTORY_SUCCESS, payload: data});\r\n        \r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_HISTORY_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        });\r\n    }\r\n}\r\n\r\nexport const deleteOrder = (orderId) => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_DELETE_REQUEST });\r\n    const { userSignin: { userInfo } } = getState();\r\n\r\n    try {\r\n        const { data } = await axios.delete(`/api/orders/${orderId}`, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            },\r\n        });\r\n        dispatch( { type: ORDER_DELETE_SUCCESS, payload: data.deleteCount })\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_HISTORY_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        });\r\n    }\r\n}\r\n\r\nexport const  listOrdersAdmin = () => async (dispatch, getState) => {\r\n    dispatch({ type: ORDER_LIST_ADMIN_REQUEST });\r\n\r\n    const { userSignin: { userInfo } } = getState();\r\n\r\n    try {\r\n        const { data } = await axios.post('/api/orders/list/all', {\r\n            id: userInfo._id,\r\n            isAdmin: userInfo.isAdmin\r\n        }, {\r\n            headers: {\r\n                Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n        });\r\n        dispatch({ type: ORDER_LIST_ADMIN_SUCCESS, payload: data });\r\n    } catch (error) {\r\n        dispatch({\r\n            type: ORDER_LIST_ADMIN_FAIL,\r\n            payload:\r\n            error.response && error.response.data.message\r\n            ? error.response.data.message\r\n            : error.message,\r\n        }); \r\n    }\r\n}","export const BANKS_PAYU_LIST_REQUEST = 'BANKS_PAYU_LIST_REQUEST';\r\nexport const BANKS_PAYU_LIST_SUCCESS = 'BANKS_PAYU_LIST_SUCCESS';\r\nexport const BANKS_PAYU_LIST_FAIL = 'BANKS_PAYU_LIST_FAIL';\r\n\r\nexport const PSE_PAYU_SUBMIT_TRANSACTION_REQUEST = 'PSE_PAYU_SUBMIT_TRANSACTION_REQUEST';\r\nexport const PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS = 'PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS';\r\nexport const PSE_PAYU_SUBMIT_TRANSACTION_FAIL = 'PSE_PAYU_SUBMIT_TRANSACTION_FAIL';","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listBanks, registerPayment } from '../actions/paymentActions';\r\nimport LoadingBox from './LoadingBox';\r\nimport MessageBox from './MessageBox';\r\n\r\nexport default function FormPayment() {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const banksList = useSelector(state => state.banksList);\r\n    const { data, loading, error } = banksList;\r\n\r\n    const paymentState = useSelector(state => state.registerPayment);\r\n    const { pseTransaction, loading: loadingPse } = paymentState;\r\n\r\n    const [bank, setBank] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [typeClient, setTypeClient] = useState('N');\r\n    const [identification, setIdentification] = useState('');\r\n    const [typeIdentification, setTypeIdentification] = useState('CC');\r\n    const [phone, setPhone] = useState('');\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(registerPayment(\r\n            {\r\n                bank, \r\n                name, \r\n                typeClient, \r\n                identification, \r\n                typeIdentification, \r\n                phone\r\n            }\r\n        ));\r\n    }\r\n\r\n    useEffect(() => {\r\n        dispatch(listBanks());\r\n    }, [dispatch], loadingPse, pseTransaction);\r\n\r\n    return (\r\n\r\n        <div>\r\n        {\r\n            loading ? <LoadingBox></LoadingBox>\r\n            :\r\n            error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n            : \r\n            (<form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h2>Pago PSE</h2>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"bank\">Bank</label>\r\n                    <select id=\"bank\" onChange={e => setBank(e.target.value)}>\r\n                        {\r\n                            data.banks.map((item) => (\r\n                                <option value={item.id}>{item.description}</option>\r\n                            ))\r\n                        }\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        placeholder=\"Enter name\"\r\n                        required\r\n                        onChange={e => setName(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"typeClient\">Type of client</label>\r\n\r\n                    <select id=\"typeClient\" onChange={e => setTypeClient(e.target.value)}>\r\n                        <option value=\"N\">Persona natural</option>\r\n                        <option value=\"J\">Persona juridica</option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"typeIdentification\">Type document</label>\r\n                    <select id=\"typeClient\" onChange={e => setTypeIdentification(e.target.value)}>\r\n                        <option value=\"CC\">Cédula de ciudadanía</option>\r\n                        <option value=\"CE\">Cédula de extranjería</option>\r\n                        <option value=\"NIT\">Número de Identificación Tributario</option>\r\n                        <option value=\"TI\">Tarjeta de Identidad</option>\r\n                        <option value=\"PP\">Pasaporte</option>\r\n                    </select>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"identification\">Document</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"identification\"\r\n                        placeholder=\"Enter number identification\"\r\n                        required\r\n                        onChange={e => setIdentification(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"phone\">Phone number</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        id=\"phone\"\r\n                        placeholder=\"Enter Phone number\"\r\n                        required\r\n                        onChange={e => setPhone(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    {\r\n                        loadingPse ? <LoadingBox></LoadingBox>\r\n                        :\r\n                        (\r\n                            <>\r\n                            <label />\r\n                            <button className=\"primary\" type=\"submit\">Continue</button>\r\n                            </>\r\n                        )\r\n                    }\r\n    \r\n                </div>\r\n            </form>)\r\n        }\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\";\r\nimport { BANKS_PAYU_LIST_FAIL, \r\n    BANKS_PAYU_LIST_REQUEST,\r\n    BANKS_PAYU_LIST_SUCCESS, \r\n    PSE_PAYU_SUBMIT_TRANSACTION_FAIL, \r\n    PSE_PAYU_SUBMIT_TRANSACTION_REQUEST,\r\n    PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS\r\n} from \"../constants/paymentConstants\"\r\n\r\nexport const listBanks = () => async (dispatch) => {\r\n    dispatch({ type: BANKS_PAYU_LIST_REQUEST });\r\n\r\n    try {\r\n        const { data } = await axios.get('/api/payment/payu/getBanks');\r\n        dispatch({ type: BANKS_PAYU_LIST_SUCCESS, payload: data });\r\n\r\n    } catch (error) {\r\n        dispatch({ \r\n            type: BANKS_PAYU_LIST_FAIL,\r\n            payload:\r\n               error.response && error.response.data.message\r\n               ? error.response.data.message\r\n               : error.message,\r\n       });\r\n    }\r\n}\r\n\r\nexport const registerPayment = (dataTransaction, order) => async (dispatch, getState) => {\r\n    dispatch({type: PSE_PAYU_SUBMIT_TRANSACTION_REQUEST});\r\n\r\n    const {orderDetails: { order } } = getState();\r\n\r\n    try {\r\n        const { data } = await axios.post('/api/payment/payu/pse/submit', { dataTransaction, order });\r\n        dispatch({type: PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS, payload: data});\r\n\r\n    } catch (error) {\r\n        dispatch({ \r\n            type: PSE_PAYU_SUBMIT_TRANSACTION_FAIL,\r\n            payload:\r\n               error.response && error.response.data.message\r\n               ? error.response.data.message\r\n               : error.message,\r\n       });\r\n    }\r\n}","import { deleteOrder, detailsOrder, payOrder } from '../actions/orderActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport React, { useEffect, useState } from 'react';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { ORDER_PAY_RESET } from '../constants/orderConstants';\r\nimport FormPayment from '../components/FormPayment';\r\n\r\nexport default function OrderScreen(props) {\r\n\r\n    const orderId = props.match.params.id;\r\n\r\n    const [sdkPayu, setSdkPayu] = useState(false);\r\n    const [sdkMercado, setSdkMercado] = useState(false);\r\n\r\n    // const [errorPayment, setErrorPayment] = useState(null);\r\n\r\n    const orderDetails = useSelector((state) => state.orderDetails);\r\n    const { order, loading, error } = orderDetails;\r\n\r\n    const removeOrder = useSelector((state => state.orderDelete));\r\n    const { success: successDelete } = removeOrder;\r\n\r\n    const orderPaid = useSelector(state => state.payOrder);\r\n    const { success: successPay } = orderPaid;\r\n\r\n    const dispatch = useDispatch('');\r\n    \r\n    useEffect(() =>{\r\n\r\n        const addPayPalScript = async () => {\r\n            const {data} = await axios.get('/api/config/paypal');\r\n            const script = document.createElement('script');\r\n            script.type = \"text/javascript\";\r\n            script.src = `https://www.paypal.com/sdk/js?client-id=${data}`;\r\n            script.async = true;\r\n            script.onload = () => {\r\n                setSdkPayu(true);\r\n            };\r\n            document.body.appendChild(script);\r\n        };\r\n\r\n        const addMercadoPagoScript = () => {\r\n            const script = document.createElement('script');\r\n            script.type = \"text/javascript\";\r\n            script.src = `https://sdk.mercadopago.com/js/v2`;\r\n            script.async = true;\r\n            script.onload = () => {\r\n                setSdkMercado(true);\r\n                loadButton();\r\n            };\r\n            document.body.appendChild(script);\r\n        };\r\n\r\n        const loadButton = async () => {\r\n            const { data } = await axios.post('/api/payment/mercado-pago/preference',{\r\n                \"preference\": {\r\n                    \"items\": [\r\n                    {\r\n                        \"title\": \"Mi producto\",\r\n                        \"unit_price\": 100,\r\n                        \"quantity\": 1\r\n                    }\r\n                    ]\r\n                }\r\n            });\r\n            const mp = new window.MercadoPago('TEST-8880b620-b177-4bb3-b649-682bba3be44c', {\r\n                locale: 'es-CO'\r\n            });\r\n    \r\n            mp.checkout({\r\n                preference: {\r\n                    id: data\r\n                },\r\n                render: {\r\n                        container: '.cho-container', // Indica el nombre de la clase donde se mostrará el botón de pago\r\n                        label: 'Pagar', // Cambia el texto del botón de pago (opcional)\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        if(successPay){\r\n            dispatch({type: ORDER_PAY_RESET})\r\n        }\r\n\r\n        dispatch(detailsOrder(orderId));\r\n\r\n        if(!window.MercadoPago){\r\n            addMercadoPagoScript();\r\n        } else {\r\n            loadButton();\r\n            setSdkMercado(true);\r\n        }\r\n\r\n        if (!window.paypal) {\r\n            addPayPalScript();\r\n        } else {\r\n            setSdkPayu(true);\r\n        }\r\n\r\n    },[dispatch, orderId, successPay]);\r\n\r\n    const successPaymentHandler = (paymentResult) => {\r\n        dispatch(payOrder(order, paymentResult));\r\n    }\r\n\r\n    const errorPaymentHandler = (paymentResult) => {\r\n        // setErrorPayment(paymentResult);\r\n    }\r\n\r\n    const orderDelete = () => {\r\n        dispatch(deleteOrder(orderId));\r\n        if(successDelete){\r\n            props.history.push('/orderhistory');\r\n        }\r\n    }\r\n    \r\n    return loading ? (<LoadingBox></LoadingBox>):\r\n    order === undefined ? (<LoadingBox></LoadingBox>) :\r\n    error ? (<MessageBox variant=\"danger\">{error}</MessageBox>)\r\n    :\r\n    (\r\n        <div>\r\n            \r\n            <div className=\"row top\">\r\n                <div className=\"col-2\">\r\n                    <ul>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h3>Order: {order._id}</h3>\r\n                                {\r\n                                    !order.isPaid && \r\n                                    (\r\n                                        <button className=\"danger\" onClick={() => orderDelete()}>Delete order</button>\r\n                                    )\r\n                                }\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h3>Shipping</h3>\r\n                                <p>\r\n                                    <strong>Name: </strong>{order.shippingAddress.fullName} <br/>\r\n                                    <strong>Address: </strong> {order.shippingAddress.address}, \r\n                                    {order.shippingAddress.city}, {order.shippingAddress.postalCode},\r\n                                    {order.shippingAddress.country}\r\n                                </p>\r\n                                {order.isDelivered ?\r\n                                    <MessageBox variant=\"success\">Delivered at: {order.deliveredAt.split('T')[0]}</MessageBox>\r\n                                :\r\n                                    <MessageBox variant=\"danger\">Not delivered</MessageBox>\r\n                                }\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h3>Payment</h3>\r\n                                <p>\r\n                                    <strong>Method: </strong>{order.paymentMethod} <br/>\r\n                                </p>\r\n                                {order.isPaid ?\r\n                                    <MessageBox variant=\"success\">Paid at: {order.paidAt.split('T')[0]}</MessageBox>\r\n                                :\r\n                                    <MessageBox variant=\"danger\">Not Paid</MessageBox>\r\n                                }\r\n                            </div>\r\n                        </li>\r\n                        <li>\r\n                            <div className=\"card card-body\">\r\n                                <h3>Order items</h3>\r\n                                    <div className=\"shopping-cart\">\r\n                                        {order.orderItems.map((x) => (\r\n                                            <div className=\"products-cart\" key={x.product}>\r\n                                                <img src={x.image} className=\"image-cart\" alt={x.name} />\r\n                                                <div className=\"name-cart\"><Link to={`/product/${x.product}`}> {x.name} </Link></div>\r\n                                                <div className=\"price-cart\">{x.qty} x ${x.price} = ${x.qty * x.price}</div>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                <div className=\"col-1\">\r\n                    <div className=\"card card-body\">\r\n                        <ul>\r\n                            <li>\r\n                                <h3>Order summary</h3>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Items</div>\r\n                                    <div>${order.itemsPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Shipping</div>\r\n                                    <div>${order.shippingPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div>Tax</div>\r\n                                    <div>${order.taxPrice.toFixed(2)}</div>\r\n                                </div>\r\n                            </li>\r\n                            <li>\r\n                                <div className=\"row\">\r\n                                    <div><strong>Total</strong></div>\r\n                                    <div><strong>${order.totalPrice.toFixed(2)}</strong></div>\r\n                                </div>\r\n                            </li>\r\n                            {\r\n                                !order.isPaid && (\r\n                                    <>\r\n                                    {order.paymentMethod === 'Paypal' ?\r\n                                    (\r\n                                    <li>\r\n                                        {!sdkPayu ? (<LoadingBox></LoadingBox>)\r\n                                        :\r\n                                        (\r\n                                            <PayPalButton amount={order.totalPrice} onSuccess={successPaymentHandler} onError={errorPaymentHandler}></PayPalButton>\r\n                                        )}\r\n                                    </li>\r\n                                    )\r\n                                    : order.paymentMethod === 'pse' ?\r\n                                    (\r\n                                        <li>\r\n                                            <FormPayment></FormPayment>\r\n                                        </li>\r\n                                    )\r\n                                    :\r\n                                    (\r\n                                        <li>\r\n                                        {!sdkMercado ? (<LoadingBox></LoadingBox>)\r\n                                        :\r\n                                        (\r\n                                            <div className=\"cho-container\"></div>\r\n                                        )}\r\n                                    </li>\r\n                                    )\r\n                                    }\r\n                                    </>\r\n                                )\r\n                            }\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { orderHistory } from '../actions/orderActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function OrderHistoryScreen(props) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const removeOrder = useSelector((state => state.orderDelete));\r\n    const { success: successDelete } = removeOrder;\r\n    \r\n    const historyOrder = useSelector(state => state.orderHistory);\r\n    const { orders, error, loading } = historyOrder;\r\n\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n\r\n    if(!userInfo){\r\n        props.history.push('/');\r\n    }\r\n\r\n    useEffect(() =>{\r\n        dispatch(orderHistory());\r\n    }, [dispatch, successDelete]);\r\n    return (\r\n        <div>\r\n            {\r\n                loading ? <LoadingBox></LoadingBox>\r\n                :\r\n                error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n                :\r\n                orders.length === 0 ? <MessageBox variant=\"danger\">No orders yet. <Link to=\"/\"> Go to shopping</Link></MessageBox>\r\n                :\r\n                (\r\n                <div className=\"table-content\">\r\n                    <h2>Order history</h2>\r\n                    <table>\r\n                        <tr>\r\n                            <th>Id</th>\r\n                            <th>Date</th>\r\n                            <th>Total</th>\r\n                            <th>Paid</th>\r\n                            <th>Delivered</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                        {\r\n                            orders.map(item => (\r\n                                <tr>\r\n                                    <td>{item._id}</td>\r\n                                    <td>{item.createdAt.split('T')[0]} {item.createdAt.split('T')[1]}</td>\r\n                                    <td>${item.totalPrice.toFixed(2)}</td>\r\n                                    <td>{ item.isPaid ? (<span className=\"success\">Si</span>) : 'No' }</td>\r\n                                    <td>{ item.isDelivered ? (<span className=\"success\">Si</span>) : 'No' }</td>\r\n                                    <td> <Link to={`/order/${item._id}`}>Details</Link></td>\r\n                                </tr>\r\n                            ))\r\n                        }\r\n                        <tr>\r\n        \r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { useDispatch } from 'react-redux';\r\nimport { updateUserProfile } from '../actions/userActions';\r\nimport swal from 'sweetalert';\r\n\r\nexport default function FormUser(props) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const { user, form } = props.data;\r\n\r\n    const [name, setName] = useState(user.name);\r\n    const [email, setEmail] = useState(user.email);\r\n    const [password, setPassword] = useState('');\r\n    const [confirmPassword, setConfirmPassword] = useState('');\r\n\r\n    const submitHandler = (e) =>{\r\n        e.preventDefault();\r\n        if (password !== confirmPassword) {\r\n            swal({\r\n                text: \"passwords not match\",\r\n                icon: \"error\",\r\n              });\r\n        } else {\r\n            dispatch(updateUserProfile({...user, name: name, email:email, password: password}));\r\n            setPassword('');\r\n            setConfirmPassword('');\r\n            swal({\r\n                text: \"Profile updated\",\r\n                icon: \"success\",\r\n              });\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                <div>\r\n                    <h1>{form.title}</h1>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"email\">Email address</label>\r\n                    <input\r\n                        type=\"email\"\r\n                        id=\"email\"\r\n                        value={email}\r\n                        placeholder=\"Enter email\"\r\n                        required\r\n                        onChange={e => setEmail(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        value={name}\r\n                        placeholder=\"Enter name\"\r\n                        required\r\n                        onChange={e => setName(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"password\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        placeholder=\"Enter password\"\r\n                        required\r\n                        onChange={e => setPassword(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"confirmPassword\">Password</label>\r\n                    <input\r\n                        type=\"password\"\r\n                        id=\"confirmPasswords\"\r\n                        placeholder=\"Confirm password\"\r\n                        required\r\n                        onChange={e => setConfirmPassword(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label />\r\n                    <button className=\"primary\" type=\"submit\">{form.button}</button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux';\r\nimport FormUser from '../components/FormUser';\r\n\r\nexport default function ProfileScreen(props) {\r\n\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n\r\n    if (!userInfo) {\r\n        props.history.push('/signin');\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <FormUser data={{ user: userInfo, form: { title: 'Update profile', button: 'update'} }}></FormUser>\r\n        </div>\r\n    )\r\n}\r\n","import { Redirect, Route } from 'react-router-dom';\r\nimport React from 'react'\r\nimport { useSelector } from 'react-redux';\r\n\r\nexport default function PrivateRoute( {component: Component, ...rest}) {\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                userInfo ?\r\n                    (<Component {...props}></Component>)\r\n                    :\r\n                    (<Redirect to=\"/signin\"/>)\r\n            }>\r\n        </Route>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { signout } from '../../actions/userActions';\r\n\r\nexport default function Header() {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const cart = useSelector(state => state.cart);\r\n    const { cartItems } = cart;\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n\r\n    const signoutHandler = () =>{\r\n        dispatch(signout());\r\n        return <Redirect to=\"/\"></Redirect>\r\n      }    \r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <div className=\"brand\">\r\n                <button>&#9776;</button>\r\n                <Link to=\"/\">S </Link>\r\n            </div>\r\n            \r\n            <div className=\"header-links\">\r\n                <Link to=\"/cart\">\r\n                    <i className=\"fas fa-shopping-cart\"></i>\r\n                    {cartItems.length > 0 && (\r\n                        <span className=\"badge\"> {cartItems.length} </span>\r\n                    )}\r\n                </Link>\r\n                {\r\n                    userInfo && userInfo.isAdmin && (\r\n                        <div className=\"dropdown\">\r\n                            <Link to=\"#\">\r\n                                <span><i className=\"fas fa-users-cog\"></i></span>\r\n                                <span>Admin</span>\r\n                                <span><i className=\"fa fa-caret-down\"></i></span>\r\n                            </Link>\r\n                            <ul className=\"dropdown-content\">\r\n                                <li><Link to=\"/admin/dashboard\">Dashboard</Link></li>\r\n                                <li><Link to=\"/admin/products\">Products</Link></li>\r\n                                <li><Link to=\"/admin/orders\">Orders</Link></li>\r\n                                <li><Link to=\"/admin/users\">Users</Link></li>\r\n                            </ul>\r\n                       </div> \r\n                    )\r\n                }\r\n                {\r\n                    userInfo ? (\r\n                        <div className=\"dropdown\">\r\n                            <Link to=\"#\">\r\n                                <span><i className=\"fas fa-user\"></i></span>\r\n                                <span>{userInfo.name}</span>\r\n                                <span><i className=\"fa fa-caret-down\"></i></span>\r\n                            </Link>\r\n                            <ul className=\"dropdown-content\">\r\n                                <li><Link to=\"/profile\">Profile</Link></li>\r\n                                <li><Link to=\"/orderhistory\">Order history</Link></li>\r\n                                <li><Link to=\"#signout\" onClick={signoutHandler}>Signout</Link></li>\r\n                            </ul>\r\n                       </div> \r\n                    )\r\n                    :\r\n                    (\r\n                        <Link to=\"/signin\">\r\n                            <span><i className=\"fas fa-user\"></i></span>\r\n                            <span>Sign In</span>\r\n                        </Link>\r\n                    )\r\n                }\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            All right reserved.\r\n        </footer>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { listOrdersAdmin } from '../../actions/orderActions';\r\nimport LoadingBox from '../../components/LoadingBox';\r\nimport MessageBox from '../../components/MessageBox';\r\n\r\nexport default function AdminOrderScreen() {\r\n    const dispatch = useDispatch();\r\n\r\n    const list = useSelector(state => state.listOrders);\r\n    const { orders, loading, error } = list;\r\n\r\n    useEffect(() => {\r\n        dispatch(listOrdersAdmin());\r\n    }, [dispatch])\r\n    return (\r\n        <div>\r\n          {\r\n                loading ? <LoadingBox></LoadingBox>\r\n                :\r\n                error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n                :\r\n                (\r\n                <div className=\"table-content\">\r\n                    <h2>Order list</h2>\r\n                    <table>\r\n                        <tr>\r\n                            <th>Id</th>\r\n                            <th>Date</th>\r\n                            <th>Total</th>\r\n                            <th>Paid</th>\r\n                            <th>Delivered</th>\r\n                            <th>Actions</th>\r\n                        </tr>\r\n                        {\r\n                            orders.map(item => (\r\n                                <tr>\r\n                                    <td>{item._id}</td>\r\n                                    <td>{item.createdAt.split('T')[0]} {item.createdAt.split('T')[1]}</td>\r\n                                    <td>${item.totalPrice.toFixed(2)}</td>\r\n                                    <td>{ item.isPaid ? (<span className=\"success\">Si</span>) : 'No' }</td>\r\n                                    <td>\r\n                                        { item.isDelivered ?\r\n                                            (<span className=\"success\">Si</span>)\r\n                                            :\r\n                                            (<span>\r\n                                                No\r\n                                                <button className = \"button\">Deliver</button>\r\n                                            </span>)\r\n                                        }\r\n                                    </td>\r\n                                    <td> <Link to={`/order/${item._id}`}>Details</Link></td>\r\n                                </tr>\r\n                            ))\r\n                        }\r\n                        <tr>\r\n        \r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nexport default function PrivateRouteAdmin({ component: Component, ...rest }) {\r\n    const  userSignin  = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                userInfo !== undefined &&\r\n                    userInfo.isAdmin ?\r\n                        (<Component {...props}></Component>)\r\n                        :\r\n                        (<Redirect to=\"/\"/>)\r\n        }>\r\n        </Route>\r\n    )\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { listProducts } from '../../actions/productActions';\r\nimport LoadingBox from '../../components/LoadingBox';\r\nimport MessageBox from '../../components/MessageBox';\r\n\r\nexport default function AdminProductScreen() {\r\n    const dispatch = useDispatch();\r\n\r\n    const productList = useSelector(state => state.productList);\r\n    const { products, loading, error } = productList;\r\n\r\n    useEffect(() => {\r\n        dispatch(listProducts());\r\n    }, [dispatch])\r\n\r\n    return (\r\n        <div>\r\n                {\r\n                loading ? <LoadingBox></LoadingBox>\r\n                :\r\n                error ? <MessageBox variant=\"danger\">{error}</MessageBox>\r\n                :\r\n                (\r\n                <div className=\"table-content\">\r\n                    <h2>Products list</h2>\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Brand</th>\r\n                                <th>Name</th>\r\n                                <th>Category</th>\r\n                                <th>Price</th>\r\n                                <th>In stock</th>\r\n                                <th>Rating</th>\r\n                                <th>Reviews</th>\r\n                                <th>Description</th>\r\n                                <th>Created at</th>\r\n                                <th>Updated at</th>\r\n                                <th>Actions</th>\r\n                                <th>Details</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        {\r\n                            products.map(item => (\r\n                                <tr key={item._id}>\r\n                                    <td>{item.brand}</td>\r\n                                    <td>{item.name}</td>\r\n                                    <td>{item.category}</td>\r\n                                    <td>{item.price}</td>\r\n                                    <td>{item.countInStock}</td>\r\n                                    <td>{item.rating}</td>\r\n                                    <td>{item.numReviews}</td>\r\n                                    <td>{item.description}</td>\r\n                                    <td>{item.createdAt}</td>\r\n                                    <td>{item.updatedAt}</td>\r\n                                    <td>\r\n                                        <Link to={`/edit/product/${item._id}`}>\r\n                                            <i className=\"fas fa-pen\"></i>\r\n                                        </Link>\r\n                                    </td>\r\n                                    <td>\r\n                                        <Link to={`/product/${item._id}`}>\r\n                                            <i className=\"fas fa-eye\"></i>\r\n                                        </Link>\r\n                                    </td>\r\n                                </tr>\r\n                            ))\r\n                        }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                )\r\n            }\r\n        </div>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { detailsProduct, updateProduct } from '../actions/productActions';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\n// import swal from 'sweetalert';\r\n\r\nexport default function EditProductScreen(props) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const productId = props.match.params.id;\r\n\r\n    const productDetail = useSelector( state => state.productDetail);\r\n    const { product, loading, error } = productDetail;\r\n\r\n    const productUpdate = useSelector( state => state.productUpdate);\r\n    const { success, error: errorUpdated } = productUpdate;\r\n\r\n    const [brand, setBrand] = useState();\r\n    const [name, setName] = useState();\r\n    const [category, setCategory] = useState();\r\n    const [price, setPrice] = useState();\r\n    const [countInStock, setStock] = useState();\r\n    const [description, setDescription] = useState();\r\n\r\n    useEffect(() => {\r\n        \r\n        if(product){\r\n                setBrand(product.brand);\r\n                setName(product.name);\r\n                setCategory(product.category);\r\n                setPrice(product.price);\r\n                setStock(product.countInStock);\r\n                setDescription(product.description);\r\n                if (product._id !== productId) {\r\n                    dispatch(detailsProduct(productId));\r\n                }\r\n\r\n        } else {\r\n            dispatch(detailsProduct(productId));\r\n        }\r\n\r\n    }, [dispatch, product, productId]);\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(updateProduct(productId, {brand, name, category, price, countInStock, description}));\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {\r\n            loading ? <LoadingBox></LoadingBox>\r\n            :\r\n            error ? <MessageBox>{error}</MessageBox>\r\n            :\r\n            errorUpdated ? <MessageBox>{errorUpdated}</MessageBox>\r\n            :\r\n            (\r\n            <form className=\"form\" onSubmit={submitHandler}>\r\n                {success && (<MessageBox>Product updated succesfully</MessageBox>)}\r\n                <div>\r\n                    <h1>Edit Product</h1>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"brand\">Brand</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"brand\"\r\n                        placeholder=\"Enter brand\"\r\n                        value={brand}\r\n                        required\r\n                        onChange={e => setBrand(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"name\">Name</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"name\"\r\n                        placeholder=\"Enter name\"\r\n                        value={name}\r\n                        required\r\n                        onChange={e => setName(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"category\">category</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"category\"\r\n                        placeholder=\"Enter category\"\r\n                        value={category}\r\n                        required\r\n                        onChange={e => setCategory(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"price\">Price</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        id=\"price\"\r\n                        placeholder=\"Enter price\"\r\n                        value={price}\r\n                        required\r\n                        onChange={e => setPrice(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"stock\">Stock</label>\r\n                    <input\r\n                        type=\"number\"\r\n                        id=\"stock\"\r\n                        placeholder=\"Enter stock\"\r\n                        value={countInStock}\r\n                        required\r\n                        onChange={e => setStock(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label htmlFor=\"description\">Description</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"description\"\r\n                        placeholder=\"Enter description\"\r\n                        value={description}\r\n                        required\r\n                        onChange={e => setDescription(e.target.value)}\r\n                    ></input>\r\n                </div>\r\n                <div>\r\n                    <label />\r\n                    <button className=\"primary\" type=\"submit\">Update</button>\r\n                </div>\r\n            </form>\r\n            )\r\n            }   \r\n        </div>\r\n    )\r\n}\r\n","import {BrowserRouter, HashRouter, Route } from 'react-router-dom';\r\nimport ProductScreen from './screens/ProductScreen';\r\nimport HomeScreen from './screens/HomeScreen';\r\nimport CartScreen from './screens/CartScreen';\r\nimport { Link } from 'react-router-dom';\r\nimport SigninScreen from './screens/SigninScreen';\r\nimport RegisterScreen from './screens/RegisterScreen';\r\nimport ShippingAddressScreen from './screens/ShippingAddressScreen';\r\nimport PaymentMethodScreen from './screens/PaymentMethodScreen';\r\nimport PlaceOrderScreen from './screens/PlaceOrderScreen';\r\nimport OrderScreen from './screens/OrderScreen';\r\nimport OrderHistoryScreen from './screens/OrderHistoryScreen';\r\nimport ProfileScreen from './screens/ProfileScreen';\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport Header from './components/common/Header';\r\nimport Footer from './components/common/Footer';\r\nimport AdminOrderScreen from './screens/Admin/AdminOrderScreen';\r\nimport PrivateRouteAdmin from './components/PrivateRouteAdmin';\r\nimport Checkout from './components/checkout/CheckoutSteps';\r\nimport AdminProductScreen from './screens/Admin/AdminProductScreen';\r\nimport EditProductScreen from './screens/EditProductScreen';\r\n\r\nfunction App() {\r\n\r\n  return (\r\n    <BrowserRouter>\r\n    <div className=\"grid-container\">\r\n    \r\n        <HashRouter>\r\n            <Header></Header>\r\n        </HashRouter>\r\n\r\n        <aside className=\"sidebar\">\r\n            <h3>Shopping Categories</h3>\r\n            <button className=\"sidebar-close-button\">x</button>\r\n            <ul>\r\n                <li><Link to=\"index.html\">Pants</Link></li>\r\n                <li><Link to=\"index.html\">Shirts</Link></li>\r\n            </ul>\r\n        </aside>\r\n\r\n        {/* <main className=\"main\"> */}\r\n            <HashRouter>\r\n                <Route path=\"/signin\" component={SigninScreen}></Route>\r\n                <Route path=\"/register\" component={RegisterScreen}></Route>\r\n                <Route path=\"/cart/:id?\" component={CartScreen}></Route> \r\n                <Route path=\"/product/:id\" component={ProductScreen}></Route>\r\n                <Route path=\"/edit/product/:id\" component={EditProductScreen}></Route>\r\n                <Route path=\"/\" component={HomeScreen} exact></Route>\r\n                <Route path=\"/shipping\" component={ShippingAddressScreen}></Route>\r\n                <Route path=\"/checkout\" component={Checkout}></Route>\r\n                <Route path=\"/payment\" component={PaymentMethodScreen}></Route>\r\n                <Route path=\"/placeorder\" component={PlaceOrderScreen}></Route>\r\n                <Route path=\"/order/:id\" component={OrderScreen}></Route>\r\n                <Route path=\"/orderhistory\" component={OrderHistoryScreen}></Route>\r\n                <PrivateRoute path=\"/profile\" component={ProfileScreen}></PrivateRoute>\r\n\r\n                <PrivateRouteAdmin path=\"/admin/orders\" component={AdminOrderScreen}></PrivateRouteAdmin>\r\n                <PrivateRouteAdmin path=\"/admin/products\" component={AdminProductScreen}></PrivateRouteAdmin>\r\n            </HashRouter>\r\n        {/* </main> */}\r\n\r\n        <HashRouter>\r\n            <Footer></Footer>\r\n        </HashRouter>\r\n    </div>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","const {\r\n    PRODUCT_LIST_FAIL,\r\n    PRODUCT_LIST_REQUEST,\r\n    PRODUCT_LIST_SUCCESS,\r\n    PRODUCT_DETAILS_REQUEST,\r\n    PRODUCT_DETAILS_FAIL,\r\n    PRODUCT_DETAILS_SUCCESS,\r\n    PRODUCT_UPDATE_REQUEST,\r\n    PRODUCT_UPDATE_SUCCESS,\r\n    PRODUCT_UPDATE_FAIL\r\n} = require(\"../constants/productConstants\");\r\n\r\nexport const productListReducer = (state = { loading: true, products: [] }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_LIST_REQUEST :\r\n            return { loading: true };\r\n        case PRODUCT_LIST_SUCCESS:\r\n            return { loading: false, products: action.payload }\r\n        case PRODUCT_LIST_FAIL:\r\n            return { loading: false, error: action.payload }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const productDetailsReducer = (state = {loading: true}, action) =>{\r\n    switch (action.type) {\r\n        case PRODUCT_DETAILS_REQUEST:\r\n            return { loading: true };\r\n        case PRODUCT_DETAILS_SUCCESS:\r\n            return {loading: false, product: action.payload};\r\n        case PRODUCT_DETAILS_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const productUpdateReducer = ( state = { loading: true, success: false }, action) => {\r\n    switch (action.type) {\r\n        case PRODUCT_UPDATE_REQUEST:\r\n            return { loading: true };\r\n        case PRODUCT_UPDATE_SUCCESS:\r\n            return { loading: false, product: action.payload, success: true };\r\n        case PRODUCT_UPDATE_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { applyMiddleware, createStore, compose, combineReducers } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport { cartReducer } from './reducers/cartReducers';\r\nimport { productDetailsReducer, productListReducer, productUpdateReducer } from './reducers/productReducers';\r\nimport { userProfileReducer, userRegisterReducer, userSigninReducer } from './reducers/userReducers';\r\nimport { createOrderReducer, detailsOrderReducer, listOrdersAdminReducer, orderDeleteReducer, orderHistoryReducer, payOrderReducer } from './reducers/orderReducer';\r\nimport { listBanksReducer, registerPaymentReducer } from './reducers/paymentReducers';\r\n\r\nconst initialState = {\r\n    userSignin: {\r\n        userInfo: localStorage.getItem('userInfo')\r\n        ? JSON.parse(localStorage.getItem('userInfo'))\r\n        :   null\r\n    },\r\n    cart: {\r\n        cartItems: localStorage.getItem('cartItems')\r\n        ? JSON.parse(localStorage.getItem('cartItems'))\r\n        : [],\r\n        shippingAddress: localStorage.getItem('shippingAddress')\r\n        ? JSON.parse(localStorage.getItem('shippingAddress'))\r\n        : {},\r\n        paymentMethod: 'Paypal',\r\n    }\r\n};\r\n\r\nconst reducer = combineReducers({\r\n    productList: productListReducer,\r\n    productDetail: productDetailsReducer,\r\n    cart: cartReducer,\r\n    userSignin: userSigninReducer,\r\n    userRegister: userRegisterReducer,\r\n    createOrder: createOrderReducer,\r\n    orderDetails: detailsOrderReducer,\r\n    payOrder: payOrderReducer,\r\n    orderHistory: orderHistoryReducer,\r\n    updateUser: userProfileReducer,\r\n    banksList: listBanksReducer,\r\n    registerPayment: registerPaymentReducer,\r\n    orderDelete: orderDeleteReducer,\r\n    listOrders: listOrdersAdminReducer,\r\n    productUpdate: productUpdateReducer\r\n})\r\n\r\nconst composeEnhancer = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n    reducer,\r\n    initialState, \r\n    composeEnhancer(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;","import { CART_ADD_ITEM, CART_EMPTY, CART_REMOVE_ITEM, CART_SAVE_PAYMENT_METHOD, CART_SAVE_SHIPPING_ADDRESS } from \"../constants/cartConstants\";\r\n\r\nexport const cartReducer = (state = { cartItems:[] }, action) => {\r\n    switch (action.type) {\r\n        case CART_ADD_ITEM:\r\n            const item = action.payload;\r\n            const existItem = state.cartItems.find(x => x.product === item.product);\r\n            if (existItem) {\r\n                return {\r\n                    ...state,\r\n                    cartItems: state.cartItems.map( (x) =>\r\n                     x.product === existItem.product ? item: x\r\n                    ),\r\n                }\r\n            } else {\r\n                return { ...state, cartItems: [...state.cartItems, item] } \r\n            }\r\n        case CART_REMOVE_ITEM:\r\n            return {...state,\r\n                cartItems: state.cartItems.filter((x) => x.product !== action.payload)\r\n            };\r\n        case CART_SAVE_SHIPPING_ADDRESS:\r\n            return { ...state, shippingAddress: action.payload};\r\n        case CART_SAVE_PAYMENT_METHOD:\r\n            return { ...state, paymentMethod: action.payload};\r\n        case CART_EMPTY:\r\n                return { ...state, cartItems: [] };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_SIGIN_FAIL, USER_SIGIN_REQUEST, USER_SIGIN_SIGNOUT, USER_SIGIN_SUCCESS, USER_UPDATE_FAIL, USER_UPDATE_REQUEST, USER_UPDATE_SUCCESS } from \"../constants/userConstants\";\r\n\r\nexport const userSigninReducer = (state ={}, action) =>{\r\n    switch (action.type) {\r\n        case USER_SIGIN_REQUEST:\r\n            return {loading: true};\r\n        case USER_SIGIN_SUCCESS:\r\n            return {loading: false, userInfo: action.payload};\r\n        case USER_SIGIN_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        case USER_SIGIN_SIGNOUT:\r\n            return {};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const userRegisterReducer = (state ={}, action) =>{\r\n    switch (action.type) {\r\n        case USER_REGISTER_REQUEST:\r\n            return {loading: true};\r\n        case USER_SIGIN_SUCCESS:\r\n            return {loading: false, userInfo: action.payload};\r\n        case USER_REGISTER_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const userProfileReducer = (state = { loading: true }, action) => {\r\n    switch (action.type) {\r\n        case USER_UPDATE_REQUEST:\r\n            return { loading: true };\r\n        case USER_UPDATE_SUCCESS:\r\n            return { loading: false, user: action.payload };\r\n        case USER_UPDATE_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}","import { \r\n    ORDER_CREATE_FAIL,\r\n    ORDER_CREATE_REQUEST,\r\n    ORDER_CREATE_RESET,\r\n    ORDER_CREATE_SUCCESS, \r\n    ORDER_DELETE_FAIL, \r\n    ORDER_DELETE_REQUEST, \r\n    ORDER_DETAILS_FAIL, \r\n    ORDER_DETAILS_REQUEST,\r\n    ORDER_DETAILS_SUCCESS,\r\n    ORDER_HISTORY_FAIL,\r\n    ORDER_HISTORY_REQUEST,\r\n    ORDER_HISTORY_SUCCESS,\r\n    ORDER_LIST_ADMIN_FAIL,\r\n    ORDER_LIST_ADMIN_REQUEST,\r\n    ORDER_LIST_ADMIN_SUCCESS,\r\n    ORDER_PAY_FAIL,\r\n    ORDER_PAY_REQUEST,\r\n    ORDER_PAY_RESET,\r\n    ORDER_PAY_SUCCESS\r\n} from \"../constants/orderConstants\";\r\n\r\nexport const createOrderReducer = (state= {}, action) => {\r\n    switch (action.type) {\r\n        case ORDER_CREATE_REQUEST:\r\n            return { loading: true};\r\n        case ORDER_CREATE_SUCCESS:\r\n            return {loading: false, success: true, order: action.payload};\r\n        case ORDER_CREATE_FAIL:\r\n            return {loading: false, error: action.payload};\r\n        case ORDER_CREATE_RESET:\r\n            return {};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const detailsOrderReducer = (state = { loading: false }, action) => {\r\n    switch (action.type) {\r\n        case ORDER_DETAILS_REQUEST:\r\n            return { loading: true };\r\n        case ORDER_DETAILS_SUCCESS:\r\n            return { loading: false, order: action.payload};\r\n        case ORDER_DETAILS_FAIL:\r\n            return { loading: false, error: action.payload}\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const payOrderReducer = (state ={ success: false}, action) => {\r\n    switch (action.type) {\r\n        case ORDER_PAY_REQUEST:\r\n            return { loading: true };\r\n        case ORDER_PAY_SUCCESS:\r\n            return { loading: false, success: true };\r\n        case ORDER_PAY_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        case ORDER_PAY_RESET:\r\n            return {};\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const orderHistoryReducer = ( state= { loading: true, orders: []}, action ) => {\r\n    switch (action.type) {\r\n        case ORDER_HISTORY_REQUEST:\r\n            return { loading: true };\r\n        case ORDER_HISTORY_SUCCESS:\r\n            return { loading: false, orders: action.payload };\r\n        case ORDER_HISTORY_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const orderDeleteReducer = (state = { loading: true }, action) => {\r\n    switch (action.type) {\r\n        case ORDER_DELETE_REQUEST:\r\n            return { loading: true };\r\n        case ORDER_DETAILS_SUCCESS:\r\n            return { loading: true, success: action.payload };\r\n        case ORDER_DELETE_FAIL:\r\n            return { loading: true, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const listOrdersAdminReducer = (state = { loading: true }, action) => {\r\n    switch (action.type) {\r\n        case ORDER_LIST_ADMIN_REQUEST:\r\n            return { loading: true };\r\n        case ORDER_LIST_ADMIN_SUCCESS:\r\n            return { loading: false, orders: action.payload };\r\n        case ORDER_LIST_ADMIN_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {\r\n    BANKS_PAYU_LIST_FAIL, \r\n    BANKS_PAYU_LIST_REQUEST, \r\n    BANKS_PAYU_LIST_SUCCESS, \r\n    PSE_PAYU_SUBMIT_TRANSACTION_FAIL, \r\n    PSE_PAYU_SUBMIT_TRANSACTION_REQUEST,\r\n    PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS\r\n} from \"../constants/paymentConstants\";\r\n\r\nexport const listBanksReducer = (state ={ loading: true, data: [] }, action) =>{\r\n    switch (action.type) {\r\n        case BANKS_PAYU_LIST_REQUEST:\r\n            return { loading: true };\r\n        case BANKS_PAYU_LIST_SUCCESS:\r\n            return { loading: false, data: action.payload};\r\n        case BANKS_PAYU_LIST_FAIL:\r\n            return { loading: false, error: action.payload };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const registerPaymentReducer = (state = { loading: false }, action) => {\r\n    switch (action.type) {\r\n        case PSE_PAYU_SUBMIT_TRANSACTION_REQUEST:\r\n            return { loading: true };\r\n        case PSE_PAYU_SUBMIT_TRANSACTION_SUCCESS:\r\n            return { loading: false, pseTransaction: action.payload};\r\n        case PSE_PAYU_SUBMIT_TRANSACTION_FAIL:\r\n            return { loading: false, error: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n}","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}